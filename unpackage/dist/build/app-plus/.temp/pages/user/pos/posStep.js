require("../../../common/manifest.js");
require("../../../common/vendor.js");
global.webpackJsonp([10],{177:function(t,e,i){"use strict";var s=n(i(2)),a=n(i(178));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,s.default)(a.default))},178:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(180),a=i.n(s),n=i(181);var o=function(t){i(179)},c=i(0)(a.a,n.a,o,null,null);e.default=c.exports},179:function(t,e){},180:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(9),n=(s=a)&&s.__esModule?s:{default:s};e.default={data:function(){return{money:"",bank_name:"",bankcard_id:"",aisle_name:"",block_id:"",credit_name:"",credit_id:"",loading:!1,disabled:!0,popType:"middle",showPopupBottom:!1,radioItems:[],payFee:"",vipPayFee:""}},onLoad:function(e){e.money>0?(this.money=e.money,this.bank_name=e.bank_name,this.bankcard_id=e.bankcard_id,this.aisle_name=e.aisle_name,this.block_id=e.block_id):t.switchTab({url:"/pages/tabBar/index/index"})},onShow:function(){this.getPosStepData()},onHide:function(){this.showPopupBottom&&(this.showPopupBottom=!1)},onBackPress:function(){if(this.showPopupBottom)return this.showPopupBottom=!1,!0},onUnload:function(){this.showPopupBottom&&(this.showPopupBottom=!1)},onShareAppMessage:function(){return{title:this.webshareTitle,path:"/pages/tabBar/index/index"}},methods:{goPayMoney:function(){var e=this.$store.state.openid,i=this.$store.state.sessionKey,s=this.money,a=this.bankcard_id,n=this.block_id,o=this.credit_id;if(null!=e){var c=this;try{if(this.loading)return;this.loading=!0,this.$http.post(this.websiteUrl+"/api/pay/goPayMoney",{openid:e,sessionKey:i,money:s,bankcard_id:a,block_id:n,credit_id:o},function(e){1==e.data.code?""!=e.data.result.url?(c.loading=!1,t.navigateTo({url:"/pages/card/web-view/web-view?url="+e.data.result.url})):t.showModal({content:e.data.msg,showCancel:!1,success:function(){c.loading=!1,t.switchTab({url:"/pages/tabBar/index/index"})}}):t.showModal({content:e.data.msg,showCancel:!1,success:function(){c.loading=!1}})})}catch(e){t.showModal({content:"网络异常,请稍后重试...",showCancel:!1,success:function(){c.loading=!1}})}}},getPosStepData:function(){var e=this,i=this.$store.state.openid,s=this.$store.state.sessionKey,a=this.money,n=this.bankcard_id,o=this.block_id;if(null!=i)try{this.$http.post(this.websiteUrl+"/api/pay/getPosStepData",{openid:i,sessionKey:s,money:a,bankcard_id:n,block_id:o},function(i){1==i.data.code?e.radioItems=i.data.result.creditCard:t.showModal({content:i.data.msg,showCancel:!1})})}catch(e){t.showModal({content:"网络异常,请稍后重试...",showCancel:!1})}},getPosFee:function(){var e=this,i=this.$store.state.openid,s=this.$store.state.sessionKey,a=this.money,n=this.bankcard_id,o=this.block_id,c=this.credit_id;if(null!=i)try{this.$http.post(this.websiteUrl+"/api/pay/getPosFee",{openid:i,sessionKey:s,money:a,bankcard_id:n,block_id:o,credit_id:c},function(i){1==i.data.code?(e.payFee=i.data.result.payFee,e.vipPayFee=i.data.result.vipPayFee,e.disabled=!1):(e.disabled=!0,t.showModal({content:i.data.msg,showCancel:!1}))})}catch(e){t.showModal({content:"网络异常,请稍后重试...",showCancel:!1})}},radioChange:function(t){for(var e=t.target.value,i={},s=0;s<this.radioItems.length;s++)-1!==e.indexOf(this.radioItems[s].name)?(i["radioItems["+s+"].checked"]=!0,this.credit_name=this.radioItems[s].value):i["radioItems["+s+"].checked"]=!1;this.credit_id=t.detail.value,this.showPopupBottom=!1,this.getPosFee()},hidePopup:function(){this.showPopupBottom=!1,this.showAisleBottom=!1},showBottomPopup:function(){this.hidePopup(),this.popType="bottom",this.showPopupBottom=!0},goDetailPage:function(e){if(null==this.$store.state.openid)return t.navigateTo({url:"/pages/user/login/login"}),!1;t.navigateTo({url:e})}},components:{uniPopup:n.default}}}).call(e,i(1).default)},181:function(t,e,i){"use strict";var s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("view",{staticClass:"pos_bg"},[i("view",{staticClass:"pos_yhze_text"},[t._v("￥"),i("text",[t._v(t._s(t.money))])]),i("view",{staticClass:"pos_yhze"},[t._v("收款金额")])]),i("view",{staticClass:"uni-padding-wrap"},[i("view",{staticClass:"uni-card by-card"},[i("view",{staticClass:"uni-card-content"},[i("view",{staticClass:"hg50"},[i("view",{staticClass:"uni-list-cell-navigate"},[t._m(0),i("view",{staticClass:"flex-item"},[t._v(t._s(t.bank_name))])])]),i("view",{staticClass:"hg50"},[i("view",{staticClass:"uni-list-cell-navigate bb0"},[t._m(1),i("view",{staticClass:"flex-item"},[t._v(t._s(t.aisle_name))])])])])]),i("view",{staticClass:"uni-card by-card"},[i("view",{staticClass:"uni-card-content"},[i("view",{staticClass:"hg50"},[i("view",{staticClass:"uni-list-cell-navigate uni-navigate-right bb0"},[t._m(2),i("input",{directives:[{name:"model",rawName:"v-model",value:t.credit_name,expression:"credit_name"}],staticClass:"uni-input",attrs:{disabled:"disabled",placeholder:"请选择付款账户",eventid:"MJ7-0"},domProps:{value:t.credit_name},on:{click:t.showBottomPopup,input:function(e){e.target.composing||(t.credit_name=e.target.value)}}})])])])]),i("view",{directives:[{name:"show",rawName:"v-show",value:""!=t.payFee,expression:"payFee!=''"}],staticClass:"uni-card by-card"},[i("view",{staticClass:"uni-card-content"},[i("view",{staticClass:"hg50"},[i("view",{staticClass:"uni-list-cell-navigate"},[i("view",{staticClass:"by-sdhrg"},[t._v(t._s(t.payFee)),i("text")])])]),i("view",{staticClass:"hg50"},[i("view",{staticClass:"uni-list-cell-navigate bb0"},[i("view",{staticClass:"by-sdhrg red-text"},[t._v(t._s(t.vipPayFee)),i("text")])])])])]),i("view",{staticClass:"uni-common-mt"},[i("button",{staticClass:"by-button-submit",attrs:{type:"warn",disabled:t.disabled,loading:t.loading,eventid:"nKt-1"},on:{click:t.goPayMoney}},[t._v("立即支付")])],1),t._m(3)]),i("uni-popup",{attrs:{show:t.showPopupBottom,type:t.popType,title:"请选择支付卡",eventid:"gzD-4",mpcomid:"f3I-1"},on:{hidePopup:t.hidePopup}},[i("view",{staticClass:"uni-center"},[i("radio-group",{staticClass:"uni-list",attrs:{eventid:"Pby-2",mpcomid:"mmT-0"},on:{change:t.radioChange}},t._l(t.radioItems,function(e,s){return i("label",{key:s,staticClass:"uni-list-cell uni-list-cell-pd"},[i("view",[i("label",{staticClass:"label-2-text",attrs:{for:e.name}},[i("text",[t._v(t._s(e.value))])])],1),i("view",[i("radio",{attrs:{id:e.name,value:e.name,checked:e.checked}})],1)])})),i("view",{staticClass:"add-card-btn uni-flex uni-row",staticStyle:{"justify-content":"center"},attrs:{eventid:"MrD-3"},on:{click:function(e){t.goDetailPage("/pages/card/credit/add")}}},[i("view",{staticClass:"flex-item uni-icon uni-icon-plusempty"}),i("view",{staticClass:"flex-item add-title"},[t._v("添加新的信用卡")])])],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"by-sdh"},[this._v("收款账户"),e("text")])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"by-sdh"},[this._v("支付通道"),e("text")])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"by-sdh"},[this._v("付款账户"),e("text")])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"uni-common-mt tip_btn"},[e("text",[this._v("*")]),this._v(" 一般即时到账，实际到账时间和到账金额以银行为准。\n\t\t")])}]};e.a=s}},[177]);