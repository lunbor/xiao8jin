require("../../../common/manifest.js");
require("../../../common/vendor.js");
global.webpackJsonp([11],{169:function(t,e,i){"use strict";var a=o(i(2)),s=o(i(170));function o(t){return t&&t.__esModule?t:{default:t}}Page((0,a.default)(s.default))},170:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(172),s=i.n(a),o=i(176);var n=function(t){i(171)},l=i(0)(s.a,o.a,n,null,null);e.default=l.exports},171:function(t,e){},172:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var a,s=i(9),o=(a=s)&&a.__esModule?a:{default:a};e.default={data:function(){return{money:"",bank_name:"",bankcard_id:"",aisle_name:"",block_id:"",popType:"middle",showPopupBottom:!1,showAisleBottom:!1,is_validate:0,loading:!1,radioItems:[],aisleItems:[]}},onLoad:function(){},onShow:function(){this.getPosData()},onHide:function(){this.showPopupBottom&&(this.showPopupBottom=!1),this.showAisleBottom&&(this.showAisleBottom=!1)},onBackPress:function(){return this.showPopupBottom?(this.showPopupBottom=!1,!0):this.showAisleBottom?(this.showAisleBottom=!1,!0):void 0},onUnload:function(){this.showPopupBottom&&(this.showPopupBottom=!1),this.showAisleBottom&&(this.showAisleBottom=!1)},onNavigationBarButtonTap:function(e){if(null===this.$store.state.openid)return t.navigateTo({url:"/pages/user/login/login"}),!1;t.navigateTo({url:"/pages/user/account/account"})},methods:{goPosStep:function(){""!=this.money?this.money<10?t.showModal({content:"收款金额必须大于10元",showCancel:!1}):""!=this.bankcard_id&&""!=this.bank_name?""!=this.block_id&&""!=this.aisle_name?t.navigateTo({url:"/pages/user/pos/posStep?money="+this.money+"&bankcard_id="+this.bankcard_id+"&bank_name="+this.bank_name+"&block_id="+this.block_id+"&aisle_name="+this.aisle_name}):t.showModal({content:"请支付通道",showCancel:!1}):t.showModal({content:"请收款银行卡",showCancel:!1}):t.showModal({content:"请输入收款金额",showCancel:!1})},getPosData:function(){var e=this,i=this.$store.state.openid,a=this.$store.state.sessionKey;if(null!=i)try{this.$http.post(this.websiteUrl+"/api/pay/getPosData",{openid:i,sessionKey:a},function(i){1==i.data.code?(e.radioItems=i.data.result.bankCard,e.is_validate=i.data.result.is_validate,e.bankcard_id=i.data.result.bankcard_id,e.bank_name=i.data.result.bank_name,e.aisleItems=i.data.result.qxlist,e.block_id=i.data.result.block_id,e.aisle_name=i.data.result.aisle_name):t.showModal({content:i.data.msg,showCancel:!1})})}catch(e){t.showModal({content:"网络异常,请稍后重试...",showCancel:!1})}},radioChange:function(t){for(var e=t.target.value,i={},a=0;a<this.radioItems.length;a++)-1!==e.indexOf(this.radioItems[a].name)?(i["radioItems["+a+"].checked"]=!0,this.bank_name=this.radioItems[a].value):i["radioItems["+a+"].checked"]=!1;this.bankcard_id=t.detail.value,this.showPopupBottom=!1},radioChangeAisle:function(t){for(var e=t.target.value,i={},a=0;a<this.aisleItems.length;a++)-1!==e.indexOf(this.aisleItems[a].name)?(i["aisleItems["+a+"].checked"]=!0,this.aisle_name=this.aisleItems[a].value):i["aisleItems["+a+"].checked"]=!1;this.block_id=t.detail.value,this.showAisleBottom=!1},hidePopup:function(){this.showPopupBottom=!1,this.showAisleBottom=!1},showBottomPopup:function(){this.hidePopup(),this.popType="bottom",this.showPopupBottom=!0},showAislePopup:function(){this.hidePopup(),this.popType="bottom",this.showAisleBottom=!0},goDetailPage:function(e){return null==this.$store.state.openid?(t.navigateTo({url:"/pages/user/login/login"}),!1):1!=this.is_validate?(t.showModal({title:"提示",content:"您还没有进行实名认证，是否立即前往认证？",success:function(e){e.confirm&&t.navigateTo({url:"/pages/user/info/realname"})}}),!1):void t.navigateTo({url:e})}},components:{uniPopup:o.default}}}).call(e,i(1).default)},176:function(t,e,i){"use strict";var a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"uni-padding-wrap"},[i("view",{staticClass:"uni-card by-card"},[i("view",{staticClass:"uni-card-content"},[i("view",{staticClass:"hg50"},[i("view",{staticClass:"uni-list-cell-navigate"},[t._m(0),i("input",{directives:[{name:"model",rawName:"v-model",value:t.money,expression:"money"}],staticClass:"uni-input font-max",attrs:{"placeholder-style":"font-weight: normal;",type:"digit",placeholder:"请输入要收款的金额",eventid:"TvQ-0"},domProps:{value:t.money},on:{input:function(e){e.target.composing||(t.money=e.target.value)}}})])]),i("view",{staticClass:"hg50"},[i("view",{staticClass:"uni-list-cell-navigate uni-navigate-right bb0"},[t._m(1),i("input",{directives:[{name:"model",rawName:"v-model",value:t.bank_name,expression:"bank_name"}],staticClass:"uni-input",attrs:{disabled:"disabled",placeholder:"请选择收款账户",eventid:"8wU-1"},domProps:{value:t.bank_name},on:{click:t.showBottomPopup,input:function(e){e.target.composing||(t.bank_name=e.target.value)}}})])])])]),i("view",{staticClass:"uni-card by-card"},[i("view",{staticClass:"uni-card-content"},[i("view",{staticClass:"hg50"},[i("view",{staticClass:"uni-list-cell-navigate uni-navigate-right bb0"},[t._m(2),i("input",{directives:[{name:"model",rawName:"v-model",value:t.aisle_name,expression:"aisle_name"}],staticClass:"uni-input",attrs:{disabled:"disabled",placeholder:"请选择支付通道",eventid:"gfm-2"},domProps:{value:t.aisle_name},on:{click:t.showAislePopup,input:function(e){e.target.composing||(t.aisle_name=e.target.value)}}})])])])]),i("view",{staticClass:"uni-common-mt"},[i("button",{staticClass:"by-button-submit",attrs:{type:"warn",loading:t.loading,eventid:"0uI-3"},on:{click:t.goPosStep}},[t._v("下一步")])],1),t._m(3),i("uni-popup",{attrs:{show:t.showPopupBottom,type:t.popType,title:"请选择收款卡",eventid:"Dvw-6",mpcomid:"Cgl-1"},on:{hidePopup:t.hidePopup}},[i("view",{staticClass:"uni-center"},[i("radio-group",{staticClass:"uni-list",attrs:{eventid:"154-4",mpcomid:"nmh-0"},on:{change:t.radioChange}},t._l(t.radioItems,function(e,a){return i("label",{key:a,staticClass:"uni-list-cell uni-list-cell-pd"},[i("view",[i("label",{staticClass:"label-2-text",attrs:{for:e.name}},[i("text",[t._v(t._s(e.value))])])],1),i("view",[i("radio",{attrs:{id:e.name,value:e.name,checked:e.checked}})],1)])})),i("view",{staticClass:"add-card-btn uni-flex uni-row",staticStyle:{"justify-content":"center"},attrs:{eventid:"QzV-5"},on:{click:function(e){t.goDetailPage("/pages/card/bank/add")}}},[i("view",{staticClass:"flex-item uni-icon uni-icon-plusempty"}),i("view",{staticClass:"flex-item add-title"},[t._v("添加新的储蓄卡")])])],1)]),i("uni-popup",{attrs:{show:t.showAisleBottom,type:t.popType,title:"请选择支付通道",eventid:"WHq-8",mpcomid:"wzT-3"},on:{hidePopup:t.hidePopup}},[i("view",{staticClass:"uni-center"},[i("radio-group",{staticClass:"uni-list",attrs:{eventid:"ZfU-7",mpcomid:"4c6-2"},on:{change:t.radioChangeAisle}},t._l(t.aisleItems,function(e,a){return i("label",{key:a,staticClass:"uni-list-cell uni-list-cell-pd"},[i("view",[i("label",{staticClass:"label-2-text",attrs:{for:e.name}},[i("text",[t._v(t._s(e.value))])])],1),i("view",[i("radio",{attrs:{id:e.name,value:e.name,checked:e.checked}})],1)])})),i("view",{staticClass:"add-card-btn uni-flex uni-row",staticStyle:{"justify-content":"center"}},[i("view",{staticClass:"flex-item uni-icon uni-icon-plusempty"}),i("view",{staticClass:"flex-item add-title"},[t._v("更多支付通道,敬请期待")])])],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"by-sdh"},[this._v("收款金额"),e("text")])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"by-sdh"},[this._v("收款账户"),e("text")])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"by-sdh"},[this._v("支付通道"),e("text")])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"uni-common-mt tip_btn"},[e("text",[this._v("*")]),this._v(" 为保护账户资金安全，请仔细核对收款信息。\n\t")])}]};e.a=a}},[169]);