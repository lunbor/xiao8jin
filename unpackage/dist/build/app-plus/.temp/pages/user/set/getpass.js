require("../../../common/manifest.js");
require("../../../common/vendor.js");
global.webpackJsonp([9],{133:function(s,t,e){"use strict";var i=n(e(2)),o=n(e(134));function n(s){return s&&s.__esModule?s:{default:s}}Page((0,i.default)(o.default))},134:function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e(136),o=e.n(i),n=e(137);var a=function(s){e(135)},u=e(0)(o.a,n.a,a,null,null);t.default=u.exports},135:function(s,t){},136:function(s,t,e){"use strict";(function(s){Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{mobile:"",showPassword:!0,loading:!1,tipcontent:"",is_sms:!0,Loop:"",downtime:60,verifyCode:"",smsCode:"",fsbtn:"发送验证码"}},onLoad:function(t){t.mobile?this.mobile=t.mobile:s.navigateTo({url:"/pages/user/set/set"})},onPullDownRefresh:function(){},onShareAppMessage:function(){return{title:this.webshareTitle,path:"/pages/tabBar/index/index"}},onNavigationBarButtonTap:function(s){},methods:{goDetailPage:function(t){s.navigateTo({url:t})},hidePopup:function(){this.showPopupMiddle=!1,this.showPopupTop=!1,this.showPopupBottom=!1},showMiddlePopup:function(){this.hidePopup(),this.popType="middle",this.showPopupMiddle=!0},changePassword:function(){this.showPassword=!this.showPassword},formSubmit:function(t){var e=this,i=t.detail.value.password,o=t.detail.value.smsCode,n=this.verifyCode;if(""===o)return s.showModal({content:"请填写验证码",showCancel:!1}),!1;if(""===n)return s.showModal({content:"请先获取验证码",showCancel:!1}),!1;if(""===i)return s.showModal({content:"请填写6~18位字符新密码",showCancel:!1}),!1;var a=this;try{var u=this.$store.state.openid,r=this.$store.state.sessionKey;this.$http.post(this.websiteUrl+"/api/api/uppassword",{openid:u,sessionKey:r,password:i,smsCode:o,verifyCode:n},function(t){1==t.data.code?s.showModal({content:t.data.msg,showCancel:!1,success:function(){e.$store.commit("logout"),s.reLaunch({url:"/pages/tabBar/user/user"})}}):s.showModal({content:t.data.msg,showCancel:!1,success:function(){a.loading=!1}})})}catch(t){s.showModal({content:"网络异常,请稍后重试...",showCancel:!1,success:function(){a.loading=!1}})}},sendSMS:function(t){var e=this;if(this.is_sms){this.is_sms=!1;var i=this.$store.state.openid,o=this.$store.state.sessionKey;try{this.$http.post(this.websiteUrl+"/api/api/sendSMS",{openid:i,sessionKey:o,is_user:1,getPass:1},function(t){1==t.data.code?(e.downtime=60,e.dateDown(),e.verifyCode=t.data.result):(s.showModal({content:t.data.msg,showCancel:!1}),e.is_sms=!0)})}catch(t){s.showModal({content:"网络异常,请稍后重试...",showCancel:!1}),this.is_sms=!0}}},dateDown:function(){var s=this;this.fsbtn="重新发送("+this.downtime+")",this.Loop=setInterval(function(){if(0==s.downtime)return s.fsbtn="发送验证码",s.is_sms=!0,void clearInterval(s.Loop);s.downtime--,s.fsbtn="重新发送("+this.downtime+")"}.bind(this),1e3),this.is_sms&&clearInterval(this.Loop)}},components:{}}}).call(t,e(1).default)},137:function(s,t,e){"use strict";var i={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("view",[e("view",{staticClass:"by-bg-title"},[s._v("验证码将发送至"+s._s(s.mobile))]),e("view",{staticClass:"uni-padding-wrap uni-common-pb"},[e("form",{attrs:{eventid:"ibo-3"},on:{submit:s.formSubmit}},[e("view",{staticClass:"uni-form-item uni-column"},[e("view",{staticClass:"with-fun by-login-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.smsCode,expression:"smsCode"}],staticClass:"uni-input",attrs:{type:"number",name:"smsCode",placeholder:"请填入验证码",eventid:"zkj-0"},domProps:{value:s.smsCode},on:{input:function(t){t.target.composing||(s.smsCode=t.target.value)}}}),e("view",{staticClass:"text by-dj-btn",class:s.is_sms?"":"active",attrs:{eventid:"2Cf-1"},on:{click:s.sendSMS}},[s._v(s._s(s.fsbtn))])])]),e("view",{staticClass:"uni-form-item uni-column"},[e("view",{staticClass:"with-fun by-login-input"},[e("input",{staticClass:"uni-input",attrs:{placeholder:"请填写6~18位字符新密码",name:"password",password:s.showPassword}}),e("view",{staticClass:"uni-icon uni-icon-eye",class:[s.showPassword?"":"uni-active"],attrs:{eventid:"4b8-2"},on:{click:s.changePassword}})])]),e("view",{staticClass:"uni-btn-v"},[e("button",{attrs:{formType:"submit",loading:s.loading,type:"warn"}},[s._v("修改密码")])],1)])],1)])},staticRenderFns:[]};t.a=i}},[133]);