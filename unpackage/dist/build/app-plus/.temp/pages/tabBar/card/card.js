require("../../../common/manifest.js");
require("../../../common/vendor.js");
global.webpackJsonp([28],{26:function(t,e,i){"use strict";var a=n(i(2)),s=n(i(27));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,a.default)(s.default))},27:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(29),s=i.n(a),n=i(36);var o=function(t){i(28)},r=i(0)(s.a,n.a,o,null,null);e.default=r.exports},28:function(t,e){},29:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var a=n(i(6)),s=n(i(4));function n(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{items:["信用卡","储蓄卡"],current:0,activeColor:"#fe5950",styleType:"text",creditCard:[],bankCard:[],Loop:"",popType:"middle",tiptitle:"提示",showPopupMiddle:!1,tipcontent:"",is_validate:""}},onLoad:function(){},onShow:function(){this.getCardData()},onPullDownRefresh:function(){clearTimeout(this.Loop),this.getCardData(),t.stopPullDownRefresh()},onShareAppMessage:function(){return{title:this.webshareTitle,path:"/pages/tabBar/index/index"}},onNavigationBarButtonTap:function(e){return null===this.$store.state.openid?(t.navigateTo({url:"/pages/user/login/login"}),!1):1!=this.is_validate?(t.showModal({title:"提示",content:"您还没有进行实名认证，是否立即前往认证？",success:function(e){e.confirm&&t.navigateTo({url:"/pages/user/info/realname"})}}),!1):void(0==this.current?this.onAddCredit():1==this.current&&t.navigateTo({url:"/pages/card/bank/add"}))},components:{uniSegmentedControl:a.default,uniPopup:s.default},methods:{hidePopup:function(){this.showPopupMiddle=!1,this.showPopupTop=!1,this.showPopupBottom=!1,t.navigateTo({url:"/pages/card/credit/add"})},showMiddlePopup:function(){this.popType="middle",this.showPopupMiddle=!0},onAddCredit:function(){return null===this.$store.state.openid?(t.navigateTo({url:"/pages/user/login/login"}),!1):1!=this.is_validate?(t.showModal({title:"提示",content:"您还没有进行实名认证，是否立即前往认证？",success:function(e){e.confirm&&t.navigateTo({url:"/pages/user/info/realname"})}}),!1):void(0==this.bankCard.length?t.showModal({content:"需要先绑定储蓄卡！",showCancel:!0,success:function(e){e.confirm&&t.navigateTo({url:"/pages/card/bank/add"})}}):0==this.creditCard.length?(this.tiptitle="绑卡须知",this.showMiddlePopup()):t.navigateTo({url:"/pages/card/credit/add"}))},goDetailPage:function(e){return null==this.$store.state.openid?(t.navigateTo({url:"/pages/user/login/login"}),!1):1!=this.is_validate?(t.showModal({title:"提示",content:"您还没有进行实名认证，是否立即前往认证？",success:function(e){e.confirm&&t.navigateTo({url:"/pages/user/info/realname"})}}),!1):void t.navigateTo({url:e})},onClickItem:function(t){this.current!==t&&(this.current=t)},getCardData:function(){var e=this,i=this.$store.state.openid,a=this.$store.state.sessionKey;if(null!=i)try{this.$http.post(this.websiteUrl+"/api/api/getCardData",{openid:i,sessionKey:a},function(i){1==i.data.code?(e.bankCard=i.data.result.bankCard,e.creditCard=i.data.result.creditCard,e.is_validate=i.data.result.is_validate,e.tipcontent=i.data.result.article.content.replace(/\\/g,"").replace(/<img/g,'<img style="display:none;"')):t.showModal({content:i.data.msg,showCancel:!1})})}catch(e){t.showModal({content:"网络异常,请稍后重试...",showCancel:!1})}},delCredit:function(e){clearTimeout(this.Loop);var i=this;this.Loop=setTimeout(function(){t.showModal({content:"是否删除该信用卡？",confirmText:"确定",cancelText:"取消",success:function(a){if(a.confirm){clearTimeout(i.Loop);var s=i.$store.state.openid,n=i.$store.state.sessionKey;try{i.$http.post(i.websiteUrl+"/api/card/delCredit",{openid:s,sessionKey:n,credit_id:e},function(e){1==e.data.code?i.getCardData():t.showModal({content:e.data.msg,showCancel:!1})})}catch(a){t.showModal({content:"网络异常,请稍后重试...",showCancel:!1})}}}})}.bind(this),2e3)},delCreditAct:function(t){},delBank:function(e){var i=this;t.showModal({content:"是否删除该储蓄卡？",confirmText:"确定",cancelText:"取消",success:function(a){if(a.confirm){var s=i.$store.state.openid,n=i.$store.state.sessionKey;try{i.$http.post(i.websiteUrl+"/api/card/delBank",{openid:s,sessionKey:n,bankcard_id:e},function(e){1==e.data.code?i.getCardData():t.showModal({content:e.data.msg,showCancel:!1})})}catch(a){t.showModal({content:"网络异常,请稍后重试...",showCancel:!1})}}}})},cleartime:function(t){clearTimeout(this.Loop)},goTorepay:function(e){t.navigateTo({url:"/pages/card/credit/info?credit_id="+e})}}}}).call(e,i(1).default)},36:function(t,e,i){"use strict";var a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("view",[i("uni-segmented-control",{attrs:{current:t.current,values:t.items,styleType:t.styleType,activeColor:t.activeColor,eventid:"RSo-0",mpcomid:"wXj-0"},on:{clickItem:t.onClickItem}})],1),i("view",{staticClass:"content"},[i("view",{directives:[{name:"show",rawName:"v-show",value:0===t.current,expression:"current === 0"}],staticClass:"uni-padding-wrap"},[0==t.creditCard.length?i("view",{staticClass:"card-no-add"},[i("image",{attrs:{src:"../../../static/card-no-add.png"}}),i("view",{staticClass:"add-card-btn uni-flex uni-row",staticStyle:{"justify-content":"center"},attrs:{eventid:"iLZ-1"},on:{click:function(e){t.onAddCredit("/pages/card/credit/add")}}},[i("view",{staticClass:"flex-item uni-icon uni-icon-plusempty"}),i("view",{staticClass:"flex-item add-title"},[t._v("添加新的信用卡")])])]):t._e(),t._l(t.creditCard,function(e,a){return i("view",{key:a,staticClass:"uni-card uni-card-red",style:{background:e.color}},[i("view",{staticClass:"uni-triplex-row pd15"},[i("view",{staticClass:"uni-triplex-left lf7"},[t._v(t._s(e.bank_name)),i("text",[t._v(t._s(e.credit_code))])]),i("view",{staticClass:"uni-triplex-right rg3"},[1===e.is_repay?i("button",{staticClass:"mini-btn",attrs:{type:"primary",size:"mini",eventid:"EMz-2-"+a},on:{click:function(i){t.goTorepay(e.credit_id)}}},[t._v("去还款")]):i("button",{staticClass:"mini-btn",attrs:{type:"primary",size:"mini"}},[t._v("查看")])],1)]),i("view",{staticClass:"uni-triplex-row linebg"}),i("view",{staticClass:"uni-flex uni-row"},[i("view",{staticClass:"flex-item ls3"},[i("view",{staticClass:"ls3-row"},[t._v("￥"),i("text",[t._v(t._s(e.line_credit))])]),i("view",[t._v("额度")])]),i("view",{staticClass:"flex-item ls3"},[i("view",{staticClass:"ls3-row"},[i("text",[t._v(t._s(e.bill_time))]),t._v("日")]),i("view",[t._v("账单日")])]),i("view",{staticClass:"flex-item ls3"},[i("view",{staticClass:"ls3-row"},[i("text",[t._v(t._s(e.repay_time))]),t._v("日")]),i("view",[t._v("还款日")])])]),i("view",{directives:[{name:"show",rawName:"v-show",value:1===e.is_repay,expression:"item.is_repay === 1"}]},[i("view",{staticClass:"uni-flex uni-row btn-repay-bg"}),i("view",{staticClass:"uni-flex uni-row btn-repay",attrs:{eventid:"pdf-3-"+a},on:{click:function(i){t.goTorepay(e.credit_id)}}},[t._v("立即还款")])])])})],2),i("view",{directives:[{name:"show",rawName:"v-show",value:1===t.current,expression:"current === 1"}],staticClass:"uni-padding-wrap"},[0==t.bankCard.length?i("view",{staticClass:"card-no-add"},[i("image",{attrs:{src:"../../../static/card-no-add.png"}}),i("view",{staticClass:"add-card-btn uni-flex uni-row",staticStyle:{"justify-content":"center"},attrs:{eventid:"713-4"},on:{click:function(e){t.goDetailPage("/pages/card/bank/add")}}},[i("view",{staticClass:"flex-item uni-icon uni-icon-plusempty"}),i("view",{staticClass:"flex-item add-title"},[t._v("添加新的储蓄卡")])])]):t._e(),t._l(t.bankCard,function(e,a){return i("view",{key:a,staticClass:"uni-card uni-card-red",style:{background:e.color}},[i("view",{staticClass:"uni-triplex-row pd15"},[i("view",{staticClass:"text lf"},[t._v(t._s(e.bank_name)),i("text",[t._v(t._s(e.name))])]),i("view",{staticClass:"text rg"},[i("button",{staticClass:"mini-btn",attrs:{type:"primary",size:"mini"}},[t._v("储蓄卡")])],1),i("view",{staticClass:"text rg",staticStyle:{flex:"1","text-align":"right"}},[i("button",{staticClass:"mini-btn",attrs:{type:"primary",size:"mini",eventid:"Vr9-5-"+a},on:{click:function(i){t.delBank(e.bankcard_id)}}},[t._v("解绑")])],1)]),i("view",{staticClass:"uni-triplex-row linebg"}),i("view",{staticClass:"uni-flex uni-row  code-fj"},[i("view",{staticClass:"text"},[t._v("***")]),i("view",{staticClass:"text"},[t._v("****")]),i("view",{staticClass:"text"},[t._v("****")]),i("view",{staticClass:"text lhg50"},[t._v(t._s(e.bank_code))])])])})],2)]),i("uni-popup",{attrs:{show:t.showPopupMiddle,type:t.popType,title:t.tiptitle,queren:!0,quxiao:!1,eventid:"eZp-6",mpcomid:"MH0-2"},on:{hidePopup:t.hidePopup}},[i("view",{staticClass:"uni-common-mt uni-helllo-text uni-center",staticStyle:{"text-align":"left"}},[i("rich-text",{attrs:{nodes:t.tipcontent,mpcomid:"akT-1"}})],1)])],1)},staticRenderFns:[]};e.a=a}},[26]);