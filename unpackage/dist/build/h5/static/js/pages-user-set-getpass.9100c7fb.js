(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-set-getpass"],{"375f":function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o={data:function(){return{mobile:"",showPassword:!0,loading:!1,tipcontent:"",is_sms:!0,Loop:"",downtime:60,verifyCode:"",smsCode:"",fsbtn:"发送验证码"}},onLoad:function(t){t.mobile?this.mobile=t.mobile:uni.navigateTo({url:"/pages/user/set/set"})},onPullDownRefresh:function(){},onShareAppMessage:function(){return{title:this.webshareTitle,path:"/pages/tabBar/index/index"}},onNavigationBarButtonTap:function(t){},methods:{goDetailPage:function(t){uni.navigateTo({url:t})},hidePopup:function(){this.showPopupMiddle=!1,this.showPopupTop=!1,this.showPopupBottom=!1},showMiddlePopup:function(){this.hidePopup(),this.popType="middle",this.showPopupMiddle=!0},changePassword:function(){this.showPassword=!this.showPassword},formSubmit:function(t){var i=this,n=t.detail.value.password,o=t.detail.value.smsCode,s=this.verifyCode;if(""===o)return uni.showModal({content:"请填写验证码",showCancel:!1}),!1;if(""===s)return uni.showModal({content:"请先获取验证码",showCancel:!1}),!1;if(""===n)return uni.showModal({content:"请填写6~18位字符新密码",showCancel:!1}),!1;var e=this;try{var a=this.$store.state.openid,d=this.$store.state.sessionKey;this.$http.post(this.websiteUrl+"/api/api/uppassword",{openid:a,sessionKey:d,password:n,smsCode:o,verifyCode:s},function(t){1==t.data.code?uni.showModal({content:t.data.msg,showCancel:!1,success:function(){i.$store.commit("logout"),uni.reLaunch({url:"/pages/tabBar/user/user"})}}):uni.showModal({content:t.data.msg,showCancel:!1,success:function(){e.loading=!1}})})}catch(t){uni.showModal({content:"网络异常,请稍后重试...",showCancel:!1,success:function(){e.loading=!1}})}},sendSMS:function(t){var i=this;if(this.is_sms){this.is_sms=!1;var n=this.$store.state.openid,o=this.$store.state.sessionKey,s=1,e=1;try{this.$http.post(this.websiteUrl+"/api/api/sendSMS",{openid:n,sessionKey:o,is_user:s,getPass:e},function(t){1==t.data.code?(i.downtime=60,i.dateDown(),i.verifyCode=t.data.result):(uni.showModal({content:t.data.msg,showCancel:!1}),i.is_sms=!0)})}catch(t){uni.showModal({content:"网络异常,请稍后重试...",showCancel:!1}),this.is_sms=!0}}},dateDown:function(){var t=this;this.fsbtn="重新发送("+this.downtime+")",this.Loop=setInterval(function(){if(0==t.downtime)return t.fsbtn="发送验证码",t.is_sms=!0,void clearInterval(t.Loop);t.downtime--,t.fsbtn="重新发送("+this.downtime+")"}.bind(this),1e3),this.is_sms&&clearInterval(this.Loop)}},components:{}};i.default=o},"3ac9":function(t,i,n){"use strict";n.r(i);var o=n("375f"),s=n.n(o);for(var e in o)"default"!==e&&function(t){n.d(i,t,function(){return o[t]})}(e);i["default"]=s.a},"6f3b":function(t,i,n){"use strict";var o=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("v-uni-view",[n("v-uni-view",{staticClass:"by-bg-title"},[t._v("验证码将发送至"+t._s(t.mobile))]),n("v-uni-view",{staticClass:"uni-padding-wrap uni-common-pb"},[n("v-uni-form",{on:{submit:function(i){i=t.$handleEvent(i),t.formSubmit(i)}}},[n("v-uni-view",{staticClass:"uni-card by-card"},[n("v-uni-view",{staticClass:"uni-form-item uni-column"},[n("v-uni-view",{staticClass:"with-fun by-login-input"},[n("v-uni-input",{staticClass:"uni-input",attrs:{type:"number",name:"smsCode",placeholder:"请填入验证码"},model:{value:t.smsCode,callback:function(i){t.smsCode=i},expression:"smsCode"}}),n("v-uni-view",{staticClass:"text by-dj-btn",class:t.is_sms?"":"active",on:{click:function(i){i=t.$handleEvent(i),t.sendSMS(i)}}},[t._v(t._s(t.fsbtn))])],1)],1),n("v-uni-view",{staticClass:"uni-form-item uni-column"},[n("v-uni-view",{staticClass:"with-fun by-login-input"},[n("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"请填写6~18位字符新密码",name:"password",password:t.showPassword}}),n("v-uni-view",{staticClass:"uni-icon uni-icon-eye",class:[t.showPassword?"":"uni-active"],on:{click:function(i){i=t.$handleEvent(i),t.changePassword(i)}}})],1)],1)],1),n("v-uni-view",{staticClass:"uni-btn-v"},[n("v-uni-button",{staticClass:"modify_btn",attrs:{formType:"submit",loading:t.loading,type:"warn"}},[t._v("修改密码")])],1)],1)],1)],1)},s=[];n.d(i,"a",function(){return o}),n.d(i,"b",function(){return s})},"6fbb":function(t,i,n){"use strict";n.r(i);var o=n("6f3b"),s=n("3ac9");for(var e in s)"default"!==e&&function(t){n.d(i,t,function(){return s[t]})}(e);n("c083");var a=n("2877"),d=Object(a["a"])(s["default"],o["a"],o["b"],!1,null,"4d59629d",null);i["default"]=d.exports},c083:function(t,i,n){"use strict";var o=n("e891"),s=n.n(o);s.a},c453:function(t,i,n){i=t.exports=n("2350")(!1),i.push([t.i,"uni-page-body[data-v-4d59629d]{height:auto;min-height:100%;background-color:#f2f2f2;color:#989898}.by-bg-title[data-v-4d59629d]{/* background-color: #f4f4f4; */color:#333;height:%?120?%;line-height:%?120?%;padding-left:%?56?%}.by-dj-btn[data-v-4d59629d]{color:#666;border:%?2?% #d7d5d5 solid;padding:%?14?% %?20?%;height:%?30?%;line-height:%?30?%;border-radius:500px;margin-top:%?20?%;margin-right:%?15?%;font-size:%?26?%}.by-dj-btn.active[data-v-4d59629d]{-webkit-box-ordinal-group:3;-webkit-order:%?2?% #f7f8fa solid;-ms-flex-order:%?2?% #f7f8fa solid;order:%?2?% #f7f8fa solid;color:#d7d5d5}.uni-btn-v uni-button[data-v-4d59629d]{background-color:#f44}.with-fun.by-login-input[data-v-4d59629d]{border-bottom:%?2?% #ececec solid;height:%?98?%;line-height:%?98?%;font-size:%?28?%}.by-login-input .uni-input[data-v-4d59629d]{height:%?60?%;line-height:%?60?%;font-size:%?28?%}.by-login-input uni-input[data-v-4d59629d]{height:%?60?%;line-height:%?60?%;font-size:%?32?%}.clause[data-v-4d59629d]{margin-top:%?127?%;text-align:center;color:#999;font-weight:500}.clause uni-text[data-v-4d59629d]{color:#fe5950}.uni-card[data-v-4d59629d]{border-radius:%?12?%;-webkit-box-shadow:%?4?% %?4?% %?20?% %?4?% rgba(0,37,174,.2);box-shadow:%?4?% %?4?% %?20?% %?4?% rgba(0,37,174,.2);margin:0;padding:0 %?20?%}.modify_btn[data-v-4d59629d]{background-color:#32b0fd;background:-webkit-gradient(linear,left top,right top,from(#32b0fd),to(#097ede));background:-o-linear-gradient(left,#32b0fd,#097ede);background:linear-gradient(left,#32b0fd,#097ede);border-radius:500px;-webkit-box-shadow:%?4?% %?4?% %?20?% %?4?% rgba(50,176,253,.4);box-shadow:%?4?% %?4?% %?20?% %?4?% rgba(50,176,253,.4);margin-top:%?50?%}.uni-form-item[data-v-4d59629d]{padding:0}body.?%PAGE?%[data-v-4d59629d]{background-color:#f2f2f2}",""])},e891:function(t,i,n){var o=n("c453");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var s=n("4f06").default;s("995a6e76",o,!0,{sourceMap:!1,shadowMode:!1})}}]);