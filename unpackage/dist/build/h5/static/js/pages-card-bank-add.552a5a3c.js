(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-card-bank-add"],{"06f8":function(a,e,n){"use strict";var t=n("0964"),i=n.n(t);i.a},"0964":function(a,e,n){var t=n("f586");"string"===typeof t&&(t=[[a.i,t,""]]),t.locals&&(a.exports=t.locals);var i=n("4f06").default;i("5008cc39",t,!0,{sourceMap:!1,shadowMode:!1})},"4e9d":function(a,e,n){"use strict";n.r(e);var t=n("ad70"),i=n("51d1");for(var s in i)"default"!==s&&function(a){n.d(e,a,function(){return i[a]})}(s);n("06f8");var c=n("2877"),o=Object(c["a"])(i["default"],t["a"],t["b"],!1,null,"2e7616a4",null);e["default"]=o.exports},"51d1":function(a,e,n){"use strict";n.r(e);var t=n("5528"),i=n.n(t);for(var s in t)"default"!==s&&function(a){n.d(e,a,function(){return t[a]})}(s);e["default"]=i.a},5528:function(a,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=s(n("571a")),i=s(n("2de0"));function s(a){return a&&a.__esModule?a:{default:a}}var c={components:{mpvuePicker:t.default,mpvueCityPicker:i.default},data:function(){return{bank_card:{bank_code:"",bank_id:"",bank_name:"",phone:"",address:"",bank_child:"",provin:"",city:"",area:"",openid:"",sessionKey:""},loading:!1,themeColor:"#007AFF",cityPickerValueDefault:[0,0,0],pickerSingleArray:[],pickerValueDefault:[0],pickerValueArray:[],mode:"",deepLength:1}},onLoad:function(){this.bankInfo()},onShow:function(){},onShareAppMessage:function(){return{title:this.webshareTitle,path:"/pages/tabBar/index/index"}},computed:{},methods:{addBank:function(){this.bank_card.openid=this.$store.state.openid,this.bank_card.sessionKey=this.$store.state.sessionKey;var a=this;if(""!=this.bank_card.bank_code)if(""!=this.bank_card.bank_name)if(""!=this.bank_card.address)if(""!=this.bank_card.bank_child)if(""!=this.bank_card.phone)try{if(this.loading)return;this.loading=!0,this.$http.post(this.websiteUrl+"/api/card/addBank",this.bank_card,function(e){1==e.data.code?uni.showModal({content:e.data.msg,showCancel:!1,success:function(){a.loading=!1,uni.navigateBack()}}):uni.showModal({content:e.data.msg,showCancel:!1,success:function(){a.loading=!1}})})}catch(e){uni.showModal({content:"网络异常,请稍后重试...",showCancel:!1,success:function(){a.loading=!1}})}else uni.showModal({content:"请输入银行预留手机号",showCancel:!1});else uni.showModal({content:"请输入支行名称",showCancel:!1});else uni.showModal({content:"请选择省市",showCancel:!1});else uni.showModal({content:"请选择银行",showCancel:!1});else uni.showModal({content:"请输入银行卡号",showCancel:!1})},bankInfo:function(){var a=this;try{this.$http.post(this.websiteUrl+"/api/card/bankInfo",{},function(e){1==e.data.code&&(a.pickerSingleArray=e.data.result)})}catch(e){uni.showModal({content:"网络异常,请稍后重试...",showCancel:!1})}},onCancel:function(a){console.log(a)},showSinglePicker:function(){this.pickerValueArray=this.pickerSingleArray,this.mode="selector",this.deepLength=1,this.pickerValueDefault=[0],this.$refs.mpvuePicker.show()},showMulLinkageThreePicker:function(){this.$refs.mpvueCityPicker.show()},onConfirmbank:function(a){1==a.value.length&&(this.bank_card.bank_id=a.value[0],this.bank_card.bank_name=a.label)},onConfirm:function(a){this.bank_card.provin=a.provinceCode,this.bank_card.city=a.cityCode,this.bank_card.area=a.areaCode,this.bank_card.address=a.label},bindPickerChange:function(a){console.log("picker发送选择改变，携带值为",a.target.value),this.index=a.target.value}},onBackPress:function(){return this.$refs.mpvuePicker.showPicker?(this.$refs.mpvuePicker.pickerCancel(),!0):this.$refs.mpvueCityPicker.showPicker?(this.$refs.mpvueCityPicker.pickerCancel(),!0):void 0},onUnload:function(){this.$refs.mpvuePicker.showPicker&&this.$refs.mpvuePicker.pickerCancel(),this.$refs.mpvueCityPicker.showPicker&&this.$refs.mpvueCityPicker.pickerCancel()}};e.default=c},ad70:function(a,e,n){"use strict";var t=function(){var a=this,e=a.$createElement,n=a._self._c||e;return n("v-uni-view",{staticClass:"uni-padding-wrap"},[n("v-uni-form",{on:{submit:function(e){e=a.$handleEvent(e),a.formSubmit(e)}}},[n("v-uni-view",{staticClass:"uni-card by-card"},[n("v-uni-view",{staticClass:"uni-card-content p15"},[n("v-uni-view",{staticClass:"hg50"},[n("v-uni-view",{staticClass:"uni-list-cell-navigate"},[n("v-uni-view",{staticClass:"by-sdh"},[a._v("银行卡号"),n("v-uni-text")],1),n("v-uni-input",{staticClass:"uni-input font-max",attrs:{"placeholder-style":"font-weight: normal;",type:"number",name:"bank_code",placeholder:"请输入银行卡号"},model:{value:a.bank_card.bank_code,callback:function(e){a.$set(a.bank_card,"bank_code",e)},expression:"bank_card.bank_code"}})],1)],1),n("v-uni-view",{staticClass:"hg50"},[n("v-uni-view",{staticClass:"uni-list-cell-navigate uni-navigate-right bb0"},[n("v-uni-view",{staticClass:"by-sdh"},[a._v("发卡银行"),n("v-uni-text")],1),n("v-uni-input",{staticClass:"uni-input",attrs:{disabled:"disabled",name:"bank_name",placeholder:"请选择银行"},on:{click:function(e){e=a.$handleEvent(e),a.showSinglePicker(e)}},model:{value:a.bank_card.bank_name,callback:function(e){a.$set(a.bank_card,"bank_name",e)},expression:"bank_card.bank_name"}})],1)],1)],1)],1),n("v-uni-view",{staticClass:"uni-card by-card"},[n("v-uni-view",{staticClass:"uni-card-content p15"},[n("v-uni-view",{staticClass:"hg50"},[n("v-uni-view",{staticClass:"uni-list-cell-navigate uni-navigate-right"},[n("v-uni-view",{staticClass:"by-sdh"},[a._v("开户省市"),n("v-uni-text")],1),n("v-uni-input",{staticClass:"uni-input",attrs:{disabled:"disabled",placeholder:"请选择省市"},on:{click:function(e){e=a.$handleEvent(e),a.showMulLinkageThreePicker(e)}},model:{value:a.bank_card.address,callback:function(e){a.$set(a.bank_card,"address",e)},expression:"bank_card.address"}})],1)],1),n("v-uni-view",{staticClass:"hg50"},[n("v-uni-view",{staticClass:"uni-list-cell-navigate bb0"},[n("v-uni-view",{staticClass:"by-sdh"},[a._v("开户支行"),n("v-uni-text")],1),n("v-uni-input",{staticClass:"uni-input",attrs:{name:"bank_child",placeholder:"请输入开户支行名称"},model:{value:a.bank_card.bank_child,callback:function(e){a.$set(a.bank_card,"bank_child",e)},expression:"bank_card.bank_child"}})],1)],1)],1)],1),n("v-uni-view",{staticClass:"uni-card by-card"},[n("v-uni-view",{staticClass:"uni-card-content p15"},[n("v-uni-view",{staticClass:"hg50"},[n("v-uni-view",{staticClass:"uni-list-cell-navigate bb0"},[n("v-uni-view",{staticClass:"by-sdh"},[a._v("手机号"),n("v-uni-text")],1),n("v-uni-input",{staticClass:"uni-input",attrs:{type:"number",name:"phone",placeholder:"请输入银行预留手机号"},model:{value:a.bank_card.phone,callback:function(e){a.$set(a.bank_card,"phone",e)},expression:"bank_card.phone"}})],1)],1)],1)],1),n("v-uni-view",{staticClass:"uni-common-mt"},[n("v-uni-button",{staticClass:"by-button-submit",attrs:{type:"warn",loading:a.loading},on:{click:function(e){e=a.$handleEvent(e),a.addBank(e)}}},[a._v("提交保存")])],1),n("v-uni-view",{staticClass:"uni-common-mt tip_btn"},[n("v-uni-text",[a._v("*")]),a._v("为保护账户资金安全，请仔细核实银行卡信息，相关信息可咨询发卡行客服电话。")],1)],1),n("mpvue-picker",{ref:"mpvuePicker",attrs:{themeColor:a.themeColor,mode:a.mode,deepLength:a.deepLength,pickerValueDefault:a.pickerValueDefault,pickerValueArray:a.pickerValueArray},on:{onConfirm:function(e){e=a.$handleEvent(e),a.onConfirmbank(e)},onCancel:function(e){e=a.$handleEvent(e),a.onCancel(e)}}}),n("mpvue-city-picker",{ref:"mpvueCityPicker",attrs:{themeColor:a.themeColor,pickerValueDefault:a.cityPickerValueDefault},on:{onCancel:function(e){e=a.$handleEvent(e),a.onCancel(e)},onConfirm:function(e){e=a.$handleEvent(e),a.onConfirm(e)}}})],1)},i=[];n.d(e,"a",function(){return t}),n.d(e,"b",function(){return i})},f586:function(a,e,n){e=a.exports=n("2350")(!1),e.push([a.i,"uni-page-body[data-v-2e7616a4]{height:auto;min-height:100%;background-color:#f7f8fa}.uni-card.by-card[data-v-2e7616a4]{border-radius:%?12?%;-webkit-box-shadow:%?4?% %?4?% %?20?% %?4?% hsla(0,0%,48.2%,.3);box-shadow:%?4?% %?4?% %?20?% %?4?% hsla(0,0%,48.2%,.3)}.uni-card.by-card .p15[data-v-2e7616a4]{padding:%?0?% %?16?%}.by-sdh[data-v-2e7616a4]{width:%?120?%;height:%?52?%;color:#576175;font-weight:600;margin-right:%?30?%;text-align:justify}.by-sdh uni-text[data-v-2e7616a4]{display:inline-block;height:%?0?%;width:100%}.hg50 .uni-navigate-right[data-v-2e7616a4]:after{font-size:%?32?%}.hg50 .uni-list-cell-navigate[data-v-2e7616a4]{line-height:%?80?%;border-bottom:%?2?% solid #ecedef}.hg50 .uni-list-cell-navigate.bb0[data-v-2e7616a4]{border-bottom:%?0?%}.by-button-submit[data-v-2e7616a4]{background-color:#fd5950;background:-webkit-gradient(linear,left top,right top,from(#ff7575),to(#fd5950));background:-o-linear-gradient(left,#ff7575,#fd5950);background:linear-gradient(left,#ff7575,#fd5950)}.tip-text[data-v-2e7616a4]{color:#fd5950}\n\n/* 遮罩层 */.uni-mask[data-v-2e7616a4]{background:rgba(0,0,0,.6);position:fixed;width:100%;height:100%;left:0;top:0;z-index:1}.tip_cancel[data-v-2e7616a4]{text-align:center}.tip_cancel uni-image[data-v-2e7616a4]{width:%?70?%;height:%?123?%}\n\n/* 弹出层形式的广告 */.uni-banner[data-v-2e7616a4]{width:80%;position:fixed;left:50%;top:50%;z-index:99;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.tip_btn[data-v-2e7616a4]{color:#cdd1dd}.tip_btn uni-text[data-v-2e7616a4]{color:#fd5950}.font-max[data-v-2e7616a4]{font-size:%?28?%;font-weight:700}body.?%PAGE?%[data-v-2e7616a4]{background-color:#f7f8fa}",""])}}]);