(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-card-bank-add"],{"06db":function(n,a,e){"use strict";var t=e("6e03"),i=e.n(t);i.a},1476:function(n,a,e){"use strict";e.r(a);var t=e("2ce9"),i=e("a29c");for(var s in i)"default"!==s&&function(n){e.d(a,n,function(){return i[n]})}(s);e("06db");var c=e("2877"),o=Object(c["a"])(i["default"],t["a"],t["b"],!1,null,"37702d52",null);a["default"]=o.exports},"2ce9":function(n,a,e){"use strict";var t=function(){var n=this,a=n.$createElement,e=n._self._c||a;return e("v-uni-view",{staticClass:"uni-padding-wrap"},[e("v-uni-form",{on:{submit:function(a){a=n.$handleEvent(a),n.formSubmit(a)}}},[e("v-uni-view",{staticClass:"uni-card by-card"},[e("v-uni-view",{staticClass:"uni-card-content p15"},[e("v-uni-view",{staticClass:"hg50"},[e("v-uni-view",{staticClass:"uni-list-cell-navigate"},[e("v-uni-view",{staticClass:"by-sdh"},[n._v("银行卡号"),e("v-uni-text")],1),e("v-uni-input",{staticClass:"uni-input font-max",attrs:{"placeholder-style":"font-weight: normal;",type:"number",name:"bank_code",placeholder:"请输入银行卡号"},model:{value:n.bank_card.bank_code,callback:function(a){n.$set(n.bank_card,"bank_code",a)},expression:"bank_card.bank_code"}})],1)],1),e("v-uni-view",{staticClass:"hg50"},[e("v-uni-view",{staticClass:"uni-list-cell-navigate uni-navigate-right bb0"},[e("v-uni-view",{staticClass:"by-sdh"},[n._v("发卡银行"),e("v-uni-text")],1),e("v-uni-input",{staticClass:"uni-input",attrs:{disabled:"disabled",name:"bank_name",placeholder:"请选择银行"},on:{click:function(a){a=n.$handleEvent(a),n.showSinglePicker(a)}},model:{value:n.bank_card.bank_name,callback:function(a){n.$set(n.bank_card,"bank_name",a)},expression:"bank_card.bank_name"}})],1)],1)],1)],1),e("v-uni-view",{staticClass:"uni-card by-card"},[e("v-uni-view",{staticClass:"uni-card-content p15"},[e("v-uni-view",{staticClass:"hg50"},[e("v-uni-view",{staticClass:"uni-list-cell-navigate uni-navigate-right"},[e("v-uni-view",{staticClass:"by-sdh"},[n._v("开户省市"),e("v-uni-text")],1),e("v-uni-input",{staticClass:"uni-input",attrs:{disabled:"disabled",placeholder:"请选择省市"},on:{click:function(a){a=n.$handleEvent(a),n.showMulLinkageThreePicker(a)}},model:{value:n.bank_card.address,callback:function(a){n.$set(n.bank_card,"address",a)},expression:"bank_card.address"}})],1)],1),e("v-uni-view",{staticClass:"hg50"},[e("v-uni-view",{staticClass:"uni-list-cell-navigate bb0"},[e("v-uni-view",{staticClass:"by-sdh"},[n._v("开户支行"),e("v-uni-text")],1),e("v-uni-input",{staticClass:"uni-input",attrs:{name:"bank_child",placeholder:"请输入开户支行名称"},model:{value:n.bank_card.bank_child,callback:function(a){n.$set(n.bank_card,"bank_child",a)},expression:"bank_card.bank_child"}})],1)],1)],1)],1),e("v-uni-view",{staticClass:"uni-card by-card"},[e("v-uni-view",{staticClass:"uni-card-content p15"},[e("v-uni-view",{staticClass:"hg50"},[e("v-uni-view",{staticClass:"uni-list-cell-navigate bb0"},[e("v-uni-view",{staticClass:"by-sdh"},[n._v("手机号"),e("v-uni-text")],1),e("v-uni-input",{staticClass:"uni-input",attrs:{type:"number",name:"phone",placeholder:"请输入银行预留手机号"},model:{value:n.bank_card.phone,callback:function(a){n.$set(n.bank_card,"phone",a)},expression:"bank_card.phone"}})],1)],1)],1)],1),e("v-uni-view",{staticClass:"uni-common-mt"},[e("v-uni-button",{staticClass:"by-button-submit",attrs:{type:"warn",loading:n.loading},on:{click:function(a){a=n.$handleEvent(a),n.addBank(a)}}},[n._v("提交保存")])],1),e("v-uni-view",{staticClass:"uni-common-mt tip_btn"},[e("v-uni-text",[n._v("*")]),n._v("为保护账户资金安全，请仔细核实银行卡信息，相关信息可咨询发卡行客服电话。")],1)],1),e("mpvue-picker",{ref:"mpvuePicker",attrs:{themeColor:n.themeColor,mode:n.mode,deepLength:n.deepLength,pickerValueDefault:n.pickerValueDefault,pickerValueArray:n.pickerValueArray},on:{onConfirm:function(a){a=n.$handleEvent(a),n.onConfirmbank(a)},onCancel:function(a){a=n.$handleEvent(a),n.onCancel(a)}}}),e("mpvue-city-picker",{ref:"mpvueCityPicker",attrs:{themeColor:n.themeColor,pickerValueDefault:n.cityPickerValueDefault},on:{onCancel:function(a){a=n.$handleEvent(a),n.onCancel(a)},onConfirm:function(a){a=n.$handleEvent(a),n.onConfirm(a)}}})],1)},i=[];e.d(a,"a",function(){return t}),e.d(a,"b",function(){return i})},"6e03":function(n,a,e){var t=e("9ee7");"string"===typeof t&&(t=[[n.i,t,""]]),t.locals&&(n.exports=t.locals);var i=e("4f06").default;i("39484a56",t,!0,{sourceMap:!1,shadowMode:!1})},"754c":function(n,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var t=s(e("3d5e")),i=s(e("c3e1"));function s(n){return n&&n.__esModule?n:{default:n}}var c={components:{mpvuePicker:t.default,mpvueCityPicker:i.default},data:function(){return{bank_card:{bank_code:"",bank_id:"",bank_name:"",phone:"",address:"",bank_child:"",provin:"",city:"",area:"",openid:"",sessionKey:""},loading:!1,themeColor:"#007AFF",cityPickerValueDefault:[0,0,0],pickerSingleArray:[],pickerValueDefault:[0],pickerValueArray:[],mode:"",deepLength:1}},onLoad:function(){this.bankInfo()},onShow:function(){},onShareAppMessage:function(){return{title:this.webshareTitle,path:"/pages/tabBar/index/index"}},computed:{},methods:{addBank:function(){this.bank_card.openid=this.$store.state.openid,this.bank_card.sessionKey=this.$store.state.sessionKey;var n=this;if(""!=this.bank_card.bank_code)if(""!=this.bank_card.bank_name)if(""!=this.bank_card.address)if(""!=this.bank_card.bank_child)if(""!=this.bank_card.phone)try{if(this.loading)return;this.loading=!0,this.$http.post(this.websiteUrl+"/api/card/addBank",this.bank_card,function(a){1==a.data.code?uni.showModal({content:a.data.msg,showCancel:!1,success:function(){n.loading=!1,uni.navigateBack()}}):uni.showModal({content:a.data.msg,showCancel:!1,success:function(){n.loading=!1}})})}catch(a){uni.showModal({content:"网络异常,请稍后重试...",showCancel:!1,success:function(){n.loading=!1}})}else uni.showModal({content:"请输入银行预留手机号",showCancel:!1});else uni.showModal({content:"请输入支行名称",showCancel:!1});else uni.showModal({content:"请选择省市",showCancel:!1});else uni.showModal({content:"请选择银行",showCancel:!1});else uni.showModal({content:"请输入银行卡号",showCancel:!1})},bankInfo:function(){var n=this;try{this.$http.post(this.websiteUrl+"/api/card/bankInfo",{},function(a){1==a.data.code&&(n.pickerSingleArray=a.data.result)})}catch(a){uni.showModal({content:"网络异常,请稍后重试...",showCancel:!1})}},onCancel:function(n){console.log(n)},showSinglePicker:function(){this.pickerValueArray=this.pickerSingleArray,this.mode="selector",this.deepLength=1,this.pickerValueDefault=[0],this.$refs.mpvuePicker.show()},showMulLinkageThreePicker:function(){this.$refs.mpvueCityPicker.show()},onConfirmbank:function(n){1==n.value.length&&(this.bank_card.bank_id=n.value[0],this.bank_card.bank_name=n.label)},onConfirm:function(n){this.bank_card.provin=n.provinceCode,this.bank_card.city=n.cityCode,this.bank_card.area=n.areaCode,this.bank_card.address=n.label},bindPickerChange:function(n){console.log("picker发送选择改变，携带值为",n.target.value),this.index=n.target.value}},onBackPress:function(){return this.$refs.mpvuePicker.showPicker?(this.$refs.mpvuePicker.pickerCancel(),!0):this.$refs.mpvueCityPicker.showPicker?(this.$refs.mpvueCityPicker.pickerCancel(),!0):void 0},onUnload:function(){this.$refs.mpvuePicker.showPicker&&this.$refs.mpvuePicker.pickerCancel(),this.$refs.mpvueCityPicker.showPicker&&this.$refs.mpvueCityPicker.pickerCancel()}};a.default=c},"9ee7":function(n,a,e){a=n.exports=e("2350")(!1),a.push([n.i,"uni-page-body[data-v-37702d52]{height:auto;min-height:100%;background-color:#f7f8fa}.uni-card.by-card[data-v-37702d52]{border-radius:%?12?%;-webkit-box-shadow:%?4?% %?4?% %?20?% %?4?% hsla(0,0%,48.2%,.3);box-shadow:%?4?% %?4?% %?20?% %?4?% hsla(0,0%,48.2%,.3)}.uni-card.by-card .p15[data-v-37702d52]{padding:%?0?% %?16?%}.by-sdh[data-v-37702d52]{width:%?120?%;height:%?52?%;color:#576175;font-weight:600;margin-right:%?30?%;text-align:justify}.by-sdh uni-text[data-v-37702d52]{display:inline-block;height:%?0?%;width:100%}.hg50 .uni-navigate-right[data-v-37702d52]:after{font-size:%?32?%}.hg50 .uni-list-cell-navigate[data-v-37702d52]{line-height:%?80?%;border-bottom:%?2?% solid #ecedef}.hg50 .uni-list-cell-navigate.bb0[data-v-37702d52]{border-bottom:%?0?%}.by-button-submit[data-v-37702d52]{background-color:#fd5950;background:-webkit-gradient(linear,left top,right top,from(#ff7575),to(#fd5950));background:-o-linear-gradient(left,#ff7575,#fd5950);background:linear-gradient(left,#ff7575,#fd5950)}.tip-text[data-v-37702d52]{color:#fd5950}\n\n/* 遮罩层 */.uni-mask[data-v-37702d52]{background:rgba(0,0,0,.6);position:fixed;width:100%;height:100%;left:0;top:0;z-index:1}.tip_cancel[data-v-37702d52]{text-align:center}.tip_cancel uni-image[data-v-37702d52]{width:%?70?%;height:%?123?%}\n\n/* 弹出层形式的广告 */.uni-banner[data-v-37702d52]{width:80%;position:fixed;left:50%;top:50%;z-index:99;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.tip_btn[data-v-37702d52]{color:#cdd1dd}.tip_btn uni-text[data-v-37702d52]{color:#fd5950}.font-max[data-v-37702d52]{font-size:%?28?%;font-weight:700}body.?%PAGE?%[data-v-37702d52]{background-color:#f7f8fa}",""])},a29c:function(n,a,e){"use strict";e.r(a);var t=e("754c"),i=e.n(t);for(var s in t)"default"!==s&&function(n){e.d(a,n,function(){return t[n]})}(s);a["default"]=i.a}}]);