(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-pos-pos"],{"3ab7":function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,"uni-page-body[data-v-466789c1]{height:auto;min-height:100%;background-color:#f7f8fa}.uni-card.by-card[data-v-466789c1]{border-radius:%?12?%;-webkit-box-shadow:%?4?% %?4?% %?20?% %?4?% hsla(0,0%,48.2%,.3);box-shadow:%?4?% %?4?% %?20?% %?4?% hsla(0,0%,48.2%,.3)}.uni-card.by-card .p15[data-v-466789c1]{padding:%?0?% %?16?%}.by-sdh[data-v-466789c1]{width:%?120?%;height:%?52?%;color:#576175;font-weight:600;margin-right:%?30?%;text-align:justify}.by-sdh uni-text[data-v-466789c1]{display:inline-block;height:%?0?%;width:100%}.hg50 .uni-navigate-right[data-v-466789c1]:after{font-size:%?32?%}.hg50 .uni-list-cell-navigate[data-v-466789c1]{line-height:%?80?%;border-bottom:%?2?% solid #ecedef}.hg50 .uni-list-cell-navigate.bb0[data-v-466789c1]{border-bottom:%?0?%}.by-button-submit[data-v-466789c1]{background-color:#fd5950;background:-webkit-gradient(linear,left top,right top,from(#ff7575),to(#fd5950));background:-o-linear-gradient(left,#ff7575,#fd5950);background:linear-gradient(left,#ff7575,#fd5950)}.tip-text[data-v-466789c1]{color:#fd5950}\n\n/* 遮罩层 */.uni-mask[data-v-466789c1]{background:rgba(0,0,0,.6);position:fixed;width:100%;height:100%;left:0;top:0;z-index:1}.tip_cancel[data-v-466789c1]{text-align:center}.tip_cancel uni-image[data-v-466789c1]{width:%?70?%;height:%?123?%}\n\n/* 弹出层形式的广告 */.uni-banner[data-v-466789c1]{width:80%;position:fixed;left:50%;top:50%;z-index:99;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.tip_btn[data-v-466789c1]{color:#cdd1dd}.tip_btn uni-text[data-v-466789c1]{color:#fd5950}.font-max[data-v-466789c1]{font-size:%?28?%;font-weight:700}.uni-list-cell[data-v-466789c1]:after{left:%?0?%}.add-card-btn[data-v-466789c1]{font-size:%?28?%;font-weight:500;line-height:%?100?%;height:%?100?%}.add-card-btn .add-title[data-v-466789c1]{line-height:%?100?%;font-size:%?28?%}.uni-icon-plusempty[data-v-466789c1]{font-size:%?68?%;line-height:%?100?%}body.?%PAGE?%[data-v-466789c1]{background-color:#f7f8fa}",""])},4494:function(t,i,e){"use strict";e.r(i);var a=e("e962"),n=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(i,t,function(){return a[t]})}(o);i["default"]=n.a},"6ac5":function(t,i,e){"use strict";var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"uni-padding-wrap"},[e("v-uni-view",{staticClass:"uni-card by-card"},[e("v-uni-view",{staticClass:"uni-card-content"},[e("v-uni-view",{staticClass:"hg50"},[e("v-uni-view",{staticClass:"uni-list-cell-navigate"},[e("v-uni-view",{staticClass:"by-sdh"},[t._v("收款金额"),e("v-uni-text")],1),e("v-uni-input",{staticClass:"uni-input font-max",attrs:{"placeholder-style":"font-weight: normal;",type:"digit",placeholder:"请输入要收款的金额"},model:{value:t.money,callback:function(i){t.money=i},expression:"money"}})],1)],1),e("v-uni-view",{staticClass:"hg50"},[e("v-uni-view",{staticClass:"uni-list-cell-navigate uni-navigate-right bb0"},[e("v-uni-view",{staticClass:"by-sdh"},[t._v("收款账户"),e("v-uni-text")],1),e("v-uni-input",{staticClass:"uni-input",attrs:{disabled:"disabled",placeholder:"请选择收款账户"},on:{click:function(i){i=t.$handleEvent(i),t.showBottomPopup(i)}},model:{value:t.bank_name,callback:function(i){t.bank_name=i},expression:"bank_name"}})],1)],1)],1)],1),e("v-uni-view",{staticClass:"uni-card by-card"},[e("v-uni-view",{staticClass:"uni-card-content"},[e("v-uni-view",{staticClass:"hg50"},[e("v-uni-view",{staticClass:"uni-list-cell-navigate uni-navigate-right bb0"},[e("v-uni-view",{staticClass:"by-sdh"},[t._v("支付通道"),e("v-uni-text")],1),e("v-uni-input",{staticClass:"uni-input",attrs:{disabled:"disabled",placeholder:"请选择支付通道"},on:{click:function(i){i=t.$handleEvent(i),t.showAislePopup(i)}},model:{value:t.aisle_name,callback:function(i){t.aisle_name=i},expression:"aisle_name"}})],1)],1)],1)],1),e("v-uni-view",{staticClass:"uni-common-mt"},[e("v-uni-button",{staticClass:"by-button-submit",attrs:{type:"warn",loading:t.loading},on:{click:function(i){i=t.$handleEvent(i),t.goPosStep(i)}}},[t._v("下一步")])],1),e("v-uni-view",{staticClass:"uni-common-mt tip_btn"},[e("v-uni-text",[t._v("*")]),t._v("为保护账户资金安全，请仔细核对收款信息。")],1),e("uni-popup",{attrs:{show:t.showPopupBottom,type:t.popType,title:"请选择收款卡"},on:{hidePopup:function(i){i=t.$handleEvent(i),t.hidePopup(i)}}},[e("v-uni-view",{staticClass:"uni-center"},[e("v-uni-radio-group",{staticClass:"uni-list",on:{change:function(i){i=t.$handleEvent(i),t.radioChange(i)}}},t._l(t.radioItems,function(i,a){return e("v-uni-label",{key:a,staticClass:"uni-list-cell uni-list-cell-pd"},[e("v-uni-view",[e("v-uni-label",{staticClass:"label-2-text",attrs:{for:i.name}},[e("v-uni-text",[t._v(t._s(i.value))])],1)],1),e("v-uni-view",[e("v-uni-radio",{attrs:{id:i.name,value:i.name,checked:i.checked}})],1)],1)})),e("v-uni-view",{staticClass:"add-card-btn uni-flex uni-row",staticStyle:{"justify-content":"center"},on:{click:function(i){i=t.$handleEvent(i),t.goDetailPage("/pages/card/bank/add")}}},[e("v-uni-view",{staticClass:"flex-item uni-icon uni-icon-plusempty"}),e("v-uni-view",{staticClass:"flex-item add-title"},[t._v("添加新的储蓄卡")])],1)],1)],1),e("uni-popup",{attrs:{show:t.showAisleBottom,type:t.popType,title:"请选择支付通道"},on:{hidePopup:function(i){i=t.$handleEvent(i),t.hidePopup(i)}}},[e("v-uni-view",{staticClass:"uni-center"},[e("v-uni-radio-group",{staticClass:"uni-list",on:{change:function(i){i=t.$handleEvent(i),t.radioChangeAisle(i)}}},t._l(t.aisleItems,function(i,a){return e("v-uni-label",{key:a,staticClass:"uni-list-cell uni-list-cell-pd"},[e("v-uni-view",[e("v-uni-label",{staticClass:"label-2-text",attrs:{for:i.name}},[e("v-uni-text",[t._v(t._s(i.value))])],1)],1),e("v-uni-view",[e("v-uni-radio",{attrs:{id:i.name,value:i.name,checked:i.checked}})],1)],1)})),e("v-uni-view",{staticClass:"add-card-btn uni-flex uni-row",staticStyle:{"justify-content":"center"}},[e("v-uni-view",{staticClass:"flex-item uni-icon uni-icon-plusempty"}),e("v-uni-view",{staticClass:"flex-item add-title"},[t._v("更多支付通道,敬请期待")])],1)],1)],1)],1)},n=[];e.d(i,"a",function(){return a}),e.d(i,"b",function(){return n})},"6f7e":function(t,i,e){var a=e("3ab7");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("bdcf1024",a,!0,{sourceMap:!1,shadowMode:!1})},"8cf1":function(t,i,e){var a=e("f20e");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("3befde89",a,!0,{sourceMap:!1,shadowMode:!1})},c071:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a={props:{show:{type:Boolean,default:!1},title:{type:String,default:"请选择"},type:{type:String,default:"middle"}},data:function(){var t=0;return t=44,{offsetTop:t}},methods:{hide:function(){this.$emit("hidePopup")}}};i.default=a},c198:function(t,i,e){"use strict";e.r(i);var a=e("6ac5"),n=e("4494");for(var o in n)"default"!==o&&function(t){e.d(i,t,function(){return n[t]})}(o);e("cd28");var s=e("2877"),u=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"466789c1",null);i["default"]=u.exports},cd28:function(t,i,e){"use strict";var a=e("6f7e"),n=e.n(a);n.a},e525:function(t,i,e){"use strict";var a=e("8cf1"),n=e.n(a);n.a},e6d2:function(t,i,e){"use strict";var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",[e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"uni-mask",style:{top:t.offsetTop+"px"},on:{click:function(i){i=t.$handleEvent(i),t.hide(i)}}}),e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"uni-popup uni-popup-bottom"},[e("v-uni-view",{staticClass:"title"},[t._v(t._s(t.title))]),e("v-uni-view",{staticClass:"by-content"},[t._t("default")],2)],1)],1)},n=[];e.d(i,"a",function(){return a}),e.d(i,"b",function(){return n})},e962:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=n(e("f818"));function n(t){return t&&t.__esModule?t:{default:t}}var o={data:function(){return{money:"",bank_name:"",bankcard_id:"",aisle_name:"",block_id:"",popType:"middle",showPopupBottom:!1,showAisleBottom:!1,is_validate:0,loading:!1,radioItems:[],aisleItems:[]}},onLoad:function(){},onShow:function(){this.getPosData()},onHide:function(){this.showPopupBottom&&(this.showPopupBottom=!1),this.showAisleBottom&&(this.showAisleBottom=!1)},onBackPress:function(){return this.showPopupBottom?(this.showPopupBottom=!1,!0):this.showAisleBottom?(this.showAisleBottom=!1,!0):void 0},onUnload:function(){this.showPopupBottom&&(this.showPopupBottom=!1),this.showAisleBottom&&(this.showAisleBottom=!1)},onNavigationBarButtonTap:function(t){var i=this.$store.state.openid;if(null===i)return uni.navigateTo({url:"/pages/user/login/login"}),!1;uni.navigateTo({url:"/pages/user/account/account"})},methods:{goPosStep:function(){""!=this.money?this.money<10?uni.showModal({content:"收款金额必须大于10元",showCancel:!1}):""!=this.bankcard_id&&""!=this.bank_name?""!=this.block_id&&""!=this.aisle_name?uni.navigateTo({url:"/pages/user/pos/posStep?money="+this.money+"&bankcard_id="+this.bankcard_id+"&bank_name="+this.bank_name+"&block_id="+this.block_id+"&aisle_name="+this.aisle_name}):uni.showModal({content:"请支付通道",showCancel:!1}):uni.showModal({content:"请收款银行卡",showCancel:!1}):uni.showModal({content:"请输入收款金额",showCancel:!1})},getPosData:function(){var t=this,i=this.$store.state.openid,e=this.$store.state.sessionKey;if(null!=i)try{this.$http.post(this.websiteUrl+"/api/pay/getPosData",{openid:i,sessionKey:e},function(i){1==i.data.code?(t.radioItems=i.data.result.bankCard,t.is_validate=i.data.result.is_validate,t.bankcard_id=i.data.result.bankcard_id,t.bank_name=i.data.result.bank_name,t.aisleItems=i.data.result.qxlist,t.block_id=i.data.result.block_id,t.aisle_name=i.data.result.aisle_name):uni.showModal({content:i.data.msg,showCancel:!1})})}catch(a){uni.showModal({content:"网络异常,请稍后重试...",showCancel:!1})}},radioChange:function(t){for(var i=t.target.value,e={},a=0;a<this.radioItems.length;a++)-1!==i.indexOf(this.radioItems[a].name)?(e["radioItems["+a+"].checked"]=!0,this.bank_name=this.radioItems[a].value):e["radioItems["+a+"].checked"]=!1;this.bankcard_id=t.detail.value,this.showPopupBottom=!1},radioChangeAisle:function(t){for(var i=t.target.value,e={},a=0;a<this.aisleItems.length;a++)-1!==i.indexOf(this.aisleItems[a].name)?(e["aisleItems["+a+"].checked"]=!0,this.aisle_name=this.aisleItems[a].value):e["aisleItems["+a+"].checked"]=!1;this.block_id=t.detail.value,this.showAisleBottom=!1},hidePopup:function(){this.showPopupBottom=!1,this.showAisleBottom=!1},showBottomPopup:function(){this.hidePopup(),this.popType="bottom",this.showPopupBottom=!0},showAislePopup:function(){this.hidePopup(),this.popType="bottom",this.showAisleBottom=!0},goDetailPage:function(t){var i=this.$store.state.openid;return null==i?(uni.navigateTo({url:"/pages/user/login/login"}),!1):1!=this.is_validate?(uni.showModal({title:"提示",content:"您还没有进行实名认证，是否立即前往认证？",success:function(t){t.confirm&&uni.navigateTo({url:"/pages/user/info/realname"})}}),!1):void uni.navigateTo({url:t})}},components:{uniPopup:a.default}};i.default=o},f20e:function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,".uni-mask[data-v-061476ca]{position:fixed;z-index:998;top:0;right:0;bottom:0;left:0;background-color:rgba(0,0,0,.3)}.uni-popup[data-v-061476ca]{position:absolute;z-index:999;background-color:#fff;-webkit-box-shadow:0 0 %?30?% rgba(0,0,0,.1);box-shadow:0 0 %?30?% rgba(0,0,0,.1)}.uni-popup-bottom[data-v-061476ca]{left:0;bottom:0;width:100%;padding:%?0?% %?0?% %?0?% %?0?%;text-align:left}.uni-popup-bottom .title[data-v-061476ca]{line-height:%?100?%;height:%?100?%;padding-left:%?30?%;font-size:%?32?%;font-weight:500}",""])},f818:function(t,i,e){"use strict";e.r(i);var a=e("e6d2"),n=e("fda1");for(var o in n)"default"!==o&&function(t){e.d(i,t,function(){return n[t]})}(o);e("e525");var s=e("2877"),u=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"061476ca",null);i["default"]=u.exports},fda1:function(t,i,e){"use strict";e.r(i);var a=e("c071"),n=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(i,t,function(){return a[t]})}(o);i["default"]=n.a}}]);