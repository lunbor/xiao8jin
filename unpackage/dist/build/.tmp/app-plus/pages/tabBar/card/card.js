(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabBar/card/card"],{"1f2d":function(t,e,a){},"2f7e":function(t,e,a){"use strict";var i=a("1f2d"),s=a.n(i);s.a},"32ca":function(t,e,a){"use strict";a("a8bc");var i=n(a("b0ce")),s=n(a("69d3"));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(s.default))},"69d3":function(t,e,a){"use strict";a.r(e);var i=a("bbc0"),s=a("af46");for(var n in s)"default"!==n&&function(t){a.d(e,t,function(){return s[t]})}(n);a("2f7e");var c=a("2877"),r=Object(c["a"])(s["default"],i["a"],i["b"],!1,null,null,null);e["default"]=r.exports},af46:function(t,e,a){"use strict";a.r(e);var i=a("b9e4"),s=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e["default"]=s.a},b9e4:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("82a7")),s=n(a("a4ce"));function n(t){return t&&t.__esModule?t:{default:t}}var c={data:function(){return{items:["信用卡","储蓄卡"],current:0,activeColor:"#5a91fe",styleType:"text",creditCard:[],bankCard:[],Loop:"",popType:"middle",tiptitle:"提示",showPopupMiddle:!1,tipcontent:"",is_validate:""}},onLoad:function(){},onShow:function(){this.getCardData()},onPullDownRefresh:function(){clearTimeout(this.Loop),this.getCardData(),t.stopPullDownRefresh()},onShareAppMessage:function(){return{title:this.webshareTitle,path:"/pages/tabBar/index/index"}},onNavigationBarButtonTap:function(e){var a=this.$store.state.openid;return null===a?(t.navigateTo({url:"/pages/user/login/login"}),!1):1!=this.is_validate?(t.showModal({title:"提示",content:"您还没有进行实名认证，是否立即前往认证？",success:function(e){e.confirm&&t.navigateTo({url:"/pages/user/info/realname"})}}),!1):void(0==this.current?this.onAddCredit():1==this.current&&t.navigateTo({url:"/pages/card/bank/add"}))},components:{uniSegmentedControl:i.default,uniPopup:s.default},methods:{hidePopup:function(){this.showPopupMiddle=!1,t.navigateTo({url:"/pages/card/credit/add"})},showMiddlePopup:function(){this.popType="middle",this.showPopupMiddle=!0},onAddCredit:function(){var e=this.$store.state.openid;return null===e?(t.navigateTo({url:"/pages/user/login/login"}),!1):1!=this.is_validate?(t.showModal({title:"提示",content:"您还没有进行实名认证，是否立即前往认证？",success:function(e){e.confirm&&t.navigateTo({url:"/pages/user/info/realname"})}}),!1):void(0==this.bankCard.length?t.showModal({content:"需要先绑定储蓄卡！",showCancel:!0,success:function(e){e.confirm&&t.navigateTo({url:"/pages/card/bank/add"})}}):0==this.creditCard.length?(this.tiptitle="绑卡须知",this.showMiddlePopup()):t.navigateTo({url:"/pages/card/credit/add"}))},goDetailPage:function(e){var a=this.$store.state.openid;return null==a?(t.navigateTo({url:"/pages/user/login/login"}),!1):1!=this.is_validate?(t.showModal({title:"提示",content:"您还没有进行实名认证，是否立即前往认证？",success:function(e){e.confirm&&t.navigateTo({url:"/pages/user/info/realname"})}}),!1):void t.navigateTo({url:e})},onClickItem:function(t){this.current!==t&&(this.current=t)},getCardData:function(){var e=this,a=this.$store.state.openid,i=this.$store.state.sessionKey;if(null!=a)try{this.$http.post(this.websiteUrl+"/api/api/getCardData",{openid:a,sessionKey:i},function(a){1==a.data.code?(e.bankCard=a.data.result.bankCard,e.creditCard=a.data.result.creditCard,e.is_validate=a.data.result.is_validate,e.tipcontent=a.data.result.article.content.replace(/\\/g,"").replace(/<img/g,'<img style="display:none;"')):t.showModal({content:a.data.msg,showCancel:!1})})}catch(s){t.showModal({content:"网络异常,请稍后重试...",showCancel:!1})}},delCredit:function(e){clearTimeout(this.Loop);var a=this;this.Loop=setTimeout(function(){t.showModal({content:"是否删除该信用卡？",confirmText:"确定",cancelText:"取消",success:function(i){if(i.confirm){clearTimeout(a.Loop);var s=a.$store.state.openid,n=a.$store.state.sessionKey;try{a.$http.post(a.websiteUrl+"/api/card/delCredit",{openid:s,sessionKey:n,credit_id:e},function(e){1==e.data.code?a.getCardData():t.showModal({content:e.data.msg,showCancel:!1})})}catch(i){t.showModal({content:"网络异常,请稍后重试...",showCancel:!1})}}}})}.bind(this),2e3)},delCreditAct:function(t){},delBank:function(e){var a=this;t.showModal({content:"是否删除该储蓄卡？",confirmText:"确定",cancelText:"取消",success:function(i){if(i.confirm){var s=a.$store.state.openid,n=a.$store.state.sessionKey;try{a.$http.post(a.websiteUrl+"/api/card/delBank",{openid:s,sessionKey:n,bankcard_id:e},function(e){1==e.data.code?a.getCardData():t.showModal({content:e.data.msg,showCancel:!1})})}catch(i){t.showModal({content:"网络异常,请稍后重试...",showCancel:!1})}}}})},cleartime:function(t){clearTimeout(this.Loop)},goTorepay:function(e){t.navigateTo({url:"/pages/card/credit/info?credit_id="+e})}}};e.default=c}).call(this,a("649d")["default"])},bbc0:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("view",{staticClass:"card_title"},[i("view",{staticClass:"card_title_name"},[t._v("还款")]),i("view",[i("uni-segmented-control",{attrs:{current:t.current,values:t.items,styleType:t.styleType,activeColor:t.activeColor,eventid:"6583159d-0",mpcomid:"6583159d-0"},on:{clickItem:t.onClickItem}})],1)]),i("view",{staticClass:"content"},[i("view",{directives:[{name:"show",rawName:"v-show",value:0===t.current,expression:"current === 0"}],staticClass:"uni-padding-wrap",staticStyle:{width:"100%"}},[i("view",{staticClass:"card_addCase"},[i("view",{staticClass:"uni-flex uni-row"},[t._m(0),i("view",{staticClass:"flex-item",staticStyle:{width:"20%","padding-right":"30rpx"},attrs:{eventid:"6583159d-1"},on:{click:function(e){t.onAddCredit("/pages/card/credit/add")}}},[i("img",{staticClass:"card_icon",staticStyle:{float:"right"},attrs:{src:a("f130")}})])])]),i("view",{staticClass:"uni-padding-wrap",staticStyle:{"margin-top":"110rpx"}},[0==t.creditCard.length?i("view",{staticClass:"card-no-add"},[i("image",{attrs:{src:"../../../static/card-no-add.png"}}),i("view",{staticClass:"add_card"},[t._v("你现在什么都不绑定，一般情况下是不能还款的，"),i("br"),t._v("二般情况下你获得了大红包我们也不能咔嚓一下打到你的账户")],1),i("view",{staticClass:"add-card-btn uni-flex uni-row",staticStyle:{"justify-content":"center"},attrs:{eventid:"6583159d-2"},on:{click:function(e){t.onAddCredit("/pages/card/credit/add")}}},[i("view",{staticClass:"flex-item "}),i("view",{staticClass:"flex-item add-title"},[t._v("添加新的信用卡")])])]):t._e(),t._l(t.creditCard,function(e,a){return i("view",{key:a,staticClass:"uni-card card_style"},[i("view",{staticClass:"card_bank"},[i("text",[t._v(t._s(e.bank_name))]),i("text",{staticClass:"card_num"},[t._v(t._s(e.credit_code))])]),i("view",{staticClass:"uni-flex uni-row card_main"},[i("view",{staticClass:"flex-item ls3"},[i("view",{staticClass:"ls3-row"},[t._v("¥"),i("text",[t._v(t._s(e.line_credit))])]),i("view",{staticClass:"name"},[t._v("额度")])]),i("view",{staticClass:"flex-item ls3"},[i("view",{staticClass:"ls3-row"},[i("text",[t._v(t._s(e.bill_time))]),t._v("日")]),i("view",{staticClass:"name"},[t._v("账单日")])]),i("view",{staticClass:"flex-item ls3"},[i("view",{staticClass:"ls3-row"},[i("text",[t._v(t._s(e.repay_time))]),t._v("日")]),i("view",{staticClass:"name"},[t._v("还款日")])])]),i("view",{directives:[{name:"show",rawName:"v-show",value:1===e.is_repay,expression:"item.is_repay === 1"}],attrs:{eventid:"6583159d-3-"+a},on:{click:function(a){t.goTorepay(e.credit_id)}}},[i("view",{staticClass:"btn-repay"},[t._v("立即还款")])])])})],2)]),i("view",{directives:[{name:"show",rawName:"v-show",value:1===t.current,expression:"current === 1"}],staticClass:"uni-padding-wrap",staticStyle:{width:"100%"}},[i("view",{staticClass:"card_addCase"},[i("view",{staticClass:"uni-flex uni-row"},[t._m(1),i("view",{staticClass:"flex-item",staticStyle:{width:"20%","padding-right":"30rpx"},attrs:{eventid:"6583159d-4"},on:{click:function(e){t.goDetailPage("/pages/card/bank/add")}}},[i("img",{staticClass:"card_icon",staticStyle:{float:"right"},attrs:{src:a("f130")}})])])]),i("view",{staticClass:"uni-padding-wrap",staticStyle:{"margin-top":"110rpx"}},[0==t.bankCard.length?i("view",{staticClass:"card-no-add"},[i("image",{attrs:{src:"../../../static/card-no-add.png"}}),i("view",{staticClass:"add_card"},[t._v("你现在什么都不绑定，一般情况下是不能还款的，"),i("br"),t._v("二般情况下你获得了大红包我们也不能咔嚓一下打到你的账户")],1),i("view",{staticClass:"add-card-btn uni-flex uni-row",staticStyle:{"justify-content":"center"},attrs:{eventid:"6583159d-5"},on:{click:function(e){t.goDetailPage("/pages/card/bank/add")}}},[i("view",{staticClass:"flex-item"}),i("view",{staticClass:"flex-item add-title"},[t._v("添加新的储蓄卡")])])]):t._e(),t._l(t.bankCard,function(e,a){return i("view",{key:a,staticClass:"uni-card card_style"},[i("view",{staticClass:"card_bank"},[i("text",[t._v(t._s(e.bank_name))]),i("text",{staticClass:"bank_type"},[t._v("储蓄卡")])]),i("view",{staticClass:"card_bank_info"},[i("view",{staticClass:"card_bank_main "},[i("view",{staticStyle:{"margin-bottom":"20rpx"}},[i("text",{staticClass:"name"},[t._v("持卡人：")]),t._v(t._s(e.name))]),i("view",{staticClass:"uni-flex uni-row"},[i("text",{staticClass:"name"},[t._v("卡号：")]),i("view",{staticClass:"text"},[t._v("***")]),i("view",{staticClass:"text"},[t._v("****")]),i("view",{staticClass:"text"},[t._v("****")]),i("view",{staticClass:"text lhg50"},[t._v(t._s(e.bank_code))])])]),i("view",{staticClass:"untying_btn",attrs:{eventid:"6583159d-6-"+a},on:{click:function(a){t.delBank(e.bankcard_id)}}},[i("text",[t._v("解除绑定")])])])])})],2)])]),i("uni-popup",{attrs:{show:t.showPopupMiddle,type:t.popType,title:t.tiptitle,queren:!0,quxiao:!1,eventid:"6583159d-7",mpcomid:"6583159d-2"},on:{hidePopup:t.hidePopup}},[i("view",{staticClass:"uni-common-mt uni-helllo-text uni-center",staticStyle:{"text-align":"left"}},[i("rich-text",{attrs:{nodes:t.tipcontent,mpcomid:"6583159d-1"}})],1)])],1)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"flex-item",staticStyle:{width:"80%","padding-left":"30rpx"}},[i("img",{staticClass:"card_icon",attrs:{src:a("626d")}}),i("text",{staticClass:"card_name"},[t._v("信用卡管理")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"flex-item",staticStyle:{width:"80%","padding-left":"30rpx"}},[i("img",{staticClass:"card_icon",attrs:{src:a("626d")}}),i("text",{staticClass:"card_name"},[t._v("储蓄卡管理")])])}];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return s})}},[["32ca","common/runtime","common/vendor"]]]);