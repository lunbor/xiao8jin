(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/agent/card"],{2213:function(e,a,n){"use strict";n("a8bc");var t=s(n("b0ce")),i=s(n("cfdb"));function s(e){return e&&e.__esModule?e:{default:e}}Page((0,t.default)(i.default))},"300e":function(e,a,n){"use strict";var t=n("a5bb"),i=n.n(t);i.a},"33c3":function(e,a,n){"use strict";(function(e){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var t=s(n("571a")),i=s(n("2de0"));function s(e){return e&&e.__esModule?e:{default:e}}var r={components:{mpvuePicker:t.default,mpvueCityPicker:i.default},data:function(){return{disabled:!1,bank_card:{bank_code:"",bank_id:"",bank_name:"",bank_real_name:"",address:"",provin:"",city:"",area:"",openid:"",sessionKey:""},loading:!1,themeColor:"#007AFF",cityPickerValueDefault:[0,0,0],pickerSingleArray:[],pickerValueDefault:[0],pickerValueArray:[],mode:"",deepLength:1}},onLoad:function(){this.bankInfo()},onShow:function(){},onShareAppMessage:function(){return{title:this.webshareTitle,path:"/pages/tabBar/index/index"}},computed:{},methods:{addBank:function(){var a=this;this.bank_card.openid=this.$store.state.openid,this.bank_card.sessionKey=this.$store.state.sessionKey;var n=this;""!=this.bank_card.bank_code?""!=this.bank_card.bank_name?""!=this.bank_card.address?""!=this.bank_card.bank_real_name?e.showModal({title:"操作提示",content:"结算卡信息一旦填写不允许自行修改信息,请认真核对信息,以免资金提现遇到问题！",success:function(t){if(t.confirm)try{if(a.loading)return;a.loading=!0,a.$http.post(a.websiteUrl+"/api/agent/addBank",a.bank_card,function(a){1==a.data.code?e.showModal({content:a.data.msg,showCancel:!1,success:function(){n.loading=!1,e.navigateBack()}}):e.showModal({content:a.data.msg,showCancel:!1,success:function(){n.loading=!1}})})}catch(i){e.showModal({content:"网络异常,请稍后重试...",showCancel:!1,success:function(){n.loading=!1}})}}}):e.showModal({content:"请输入开户姓名",showCancel:!1}):e.showModal({content:"请选择省市",showCancel:!1}):e.showModal({content:"请选择银行",showCancel:!1}):e.showModal({content:"请输入银行卡号",showCancel:!1})},bankInfo:function(){var a=this;try{var n=this.$store.state.openid,t=this.$store.state.sessionKey;this.$http.post(this.websiteUrl+"/api/agent/bankInfo",{openid:n,sessionKey:t},function(e){1==e.data.code&&(a.pickerSingleArray=e.data.result.bankInfo,a.bank_card=e.data.result.agent,""!=e.data.result.agent.bank_real_name&&(a.disabled=!0))})}catch(i){e.showModal({content:"网络异常,请稍后重试...",showCancel:!1})}},onCancel:function(e){console.log(e)},showSinglePicker:function(){this.disabled||(this.pickerValueArray=this.pickerSingleArray,this.mode="selector",this.deepLength=1,this.pickerValueDefault=[0],this.$refs.mpvuePicker.show())},showMulLinkageThreePicker:function(){this.disabled||this.$refs.mpvueCityPicker.show()},onConfirmbank:function(e){1==e.value.length&&(this.bank_card.bank_id=e.value[0],this.bank_card.bank_name=e.label)},onConfirm:function(e){console.log(e.label),this.bank_card.provin=e.provinceCode,this.bank_card.city=e.cityCode,this.bank_card.area=e.areaCode,this.bank_card.address=e.label},bindPickerChange:function(e){console.log("picker发送选择改变，携带值为",e.target.value),this.index=e.target.value}},onBackPress:function(){return this.$refs.mpvuePicker.showPicker?(this.$refs.mpvuePicker.pickerCancel(),!0):this.$refs.mpvueCityPicker.showPicker?(this.$refs.mpvueCityPicker.pickerCancel(),!0):void 0},onUnload:function(){this.$refs.mpvuePicker.showPicker&&this.$refs.mpvuePicker.pickerCancel(),this.$refs.mpvueCityPicker.showPicker&&this.$refs.mpvueCityPicker.pickerCancel()}};a.default=r}).call(this,n("649d")["default"])},a5bb:function(e,a,n){},ab4e:function(e,a,n){"use strict";var t=function(){var e=this,a=e.$createElement,n=e._self._c||a;return n("view",{staticClass:"uni-padding-wrap"},[n("form",{attrs:{eventid:"675b353f-5"},on:{submit:e.formSubmit}},[n("view",{staticClass:"uni-card by-card"},[n("view",{staticClass:"uni-card-content p15"},[n("view",{staticClass:"hg50"},[n("view",{staticClass:"uni-list-cell-navigate"},[n("view",{staticClass:"by-sdh"},[e._v("开户姓名"),n("text")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.bank_card.bank_real_name,expression:"bank_card.bank_real_name"}],staticClass:"uni-input font-max",attrs:{disabled:e.disabled,"placeholder-style":"font-weight: normal;",name:"bank_real_name",placeholder:"请输入开户姓名",eventid:"675b353f-0"},domProps:{value:e.bank_card.bank_real_name},on:{input:function(a){a.target.composing||(e.bank_card.bank_real_name=a.target.value)}}})])]),n("view",{staticClass:"hg50"},[n("view",{staticClass:"uni-list-cell-navigate bb0"},[n("view",{staticClass:"by-sdh"},[e._v("银行卡号"),n("text")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.bank_card.bank_code,expression:"bank_card.bank_code"}],staticClass:"uni-input font-max",attrs:{disabled:e.disabled,"placeholder-style":"font-weight: normal;",type:"number",name:"bank_code",placeholder:"请输入银行卡号",eventid:"675b353f-1"},domProps:{value:e.bank_card.bank_code},on:{input:function(a){a.target.composing||(e.bank_card.bank_code=a.target.value)}}})])])])]),n("view",{staticClass:"uni-card by-card"},[n("view",{staticClass:"uni-card-content p15"},[n("view",{staticClass:"hg50"},[n("view",{staticClass:"uni-list-cell-navigate uni-navigate-right"},[n("view",{staticClass:"by-sdh"},[e._v("发卡银行"),n("text")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.bank_card.bank_name,expression:"bank_card.bank_name"}],staticClass:"uni-input",attrs:{disabled:"disabled",name:"bank_name",placeholder:"请选择银行",eventid:"675b353f-2"},domProps:{value:e.bank_card.bank_name},on:{click:e.showSinglePicker,input:function(a){a.target.composing||(e.bank_card.bank_name=a.target.value)}}})])]),n("view",{staticClass:"hg50"},[n("view",{staticClass:"uni-list-cell-navigate uni-navigate-right bb0"},[n("view",{staticClass:"by-sdh"},[e._v("开户省市"),n("text")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.bank_card.address,expression:"bank_card.address"}],staticClass:"uni-input",attrs:{disabled:"disabled",placeholder:"请选择省市",eventid:"675b353f-3"},domProps:{value:e.bank_card.address},on:{click:e.showMulLinkageThreePicker,input:function(a){a.target.composing||(e.bank_card.address=a.target.value)}}})])])])]),n("view",{staticClass:"uni-common-mt"},[n("button",{staticClass:"by-button-submit",attrs:{type:"warn",disabled:e.disabled,loading:e.loading,eventid:"675b353f-4"},on:{click:e.addBank}},[e._v("提交保存")])],1),n("view",{staticClass:"uni-common-mt tip_btn"},[n("text",[e._v("*")]),e._v("结算卡一旦填写不允许进行修改，为保护账户资金安全，请仔细核实银行卡信息，相关信息可咨询发卡行客服电话。")])]),n("mpvue-picker",{ref:"mpvuePicker",attrs:{themeColor:e.themeColor,mode:e.mode,deepLength:e.deepLength,pickerValueDefault:e.pickerValueDefault,pickerValueArray:e.pickerValueArray,eventid:"675b353f-6",mpcomid:"675b353f-0"},on:{onConfirm:e.onConfirmbank,onCancel:e.onCancel}}),n("mpvue-city-picker",{ref:"mpvueCityPicker",attrs:{themeColor:e.themeColor,pickerValueDefault:e.cityPickerValueDefault,eventid:"675b353f-7",mpcomid:"675b353f-1"},on:{onCancel:e.onCancel,onConfirm:e.onConfirm}})],1)},i=[];n.d(a,"a",function(){return t}),n.d(a,"b",function(){return i})},b0b3:function(e,a,n){"use strict";n.r(a);var t=n("33c3"),i=n.n(t);for(var s in t)"default"!==s&&function(e){n.d(a,e,function(){return t[e]})}(s);a["default"]=i.a},cfdb:function(e,a,n){"use strict";n.r(a);var t=n("ab4e"),i=n("b0b3");for(var s in i)"default"!==s&&function(e){n.d(a,e,function(){return i[e]})}(s);n("300e");var r=n("2877"),c=Object(r["a"])(i["default"],t["a"],t["b"],!1,null,null,null);a["default"]=c.exports}},[["2213","common/runtime","common/vendor"]]]);