(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/pos/pos"],{"0d45":function(t,e,a){},4494:function(t,e,a){"use strict";a.r(e);var i=a("8ef3"),s=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);e["default"]=s.a},"5bc6":function(t,e,a){"use strict";var i=a("0d45"),s=a.n(i);s.a},8179:function(t,e,a){"use strict";a("a8bc");var i=o(a("b0ce")),s=o(a("c198"));function o(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(s.default))},"8ef3":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(a("f818"));function s(t){return t&&t.__esModule?t:{default:t}}var o={data:function(){return{money:"",bank_name:"",bankcard_id:"",aisle_name:"",block_id:"",popType:"middle",showPopupBottom:!1,showAisleBottom:!1,is_validate:0,loading:!1,radioItems:[],aisleItems:[]}},onLoad:function(){},onShow:function(){this.getPosData()},onHide:function(){this.showPopupBottom&&(this.showPopupBottom=!1),this.showAisleBottom&&(this.showAisleBottom=!1)},onBackPress:function(){return this.showPopupBottom?(this.showPopupBottom=!1,!0):this.showAisleBottom?(this.showAisleBottom=!1,!0):void 0},onUnload:function(){this.showPopupBottom&&(this.showPopupBottom=!1),this.showAisleBottom&&(this.showAisleBottom=!1)},onNavigationBarButtonTap:function(e){var a=this.$store.state.openid;if(null===a)return t.navigateTo({url:"/pages/user/login/login"}),!1;t.navigateTo({url:"/pages/user/account/account"})},methods:{goPosStep:function(){""!=this.money?this.money<10?t.showModal({content:"收款金额必须大于10元",showCancel:!1}):""!=this.bankcard_id&&""!=this.bank_name?""!=this.block_id&&""!=this.aisle_name?t.navigateTo({url:"/pages/user/pos/posStep?money="+this.money+"&bankcard_id="+this.bankcard_id+"&bank_name="+this.bank_name+"&block_id="+this.block_id+"&aisle_name="+this.aisle_name}):t.showModal({content:"请支付通道",showCancel:!1}):t.showModal({content:"请收款银行卡",showCancel:!1}):t.showModal({content:"请输入收款金额",showCancel:!1})},getPosData:function(){var e=this,a=this.$store.state.openid,i=this.$store.state.sessionKey;if(null!=a)try{this.$http.post(this.websiteUrl+"/api/pay/getPosData",{openid:a,sessionKey:i},function(a){1==a.data.code?(e.radioItems=a.data.result.bankCard,e.is_validate=a.data.result.is_validate,e.bankcard_id=a.data.result.bankcard_id,e.bank_name=a.data.result.bank_name,e.aisleItems=a.data.result.qxlist,e.block_id=a.data.result.block_id,e.aisle_name=a.data.result.aisle_name):t.showModal({content:a.data.msg,showCancel:!1})})}catch(s){t.showModal({content:"网络异常,请稍后重试...",showCancel:!1})}},radioChange:function(t){for(var e=t.target.value,a={},i=0;i<this.radioItems.length;i++)-1!==e.indexOf(this.radioItems[i].name)?(a["radioItems["+i+"].checked"]=!0,this.bank_name=this.radioItems[i].value):a["radioItems["+i+"].checked"]=!1;this.bankcard_id=t.detail.value,this.showPopupBottom=!1},radioChangeAisle:function(t){for(var e=t.target.value,a={},i=0;i<this.aisleItems.length;i++)-1!==e.indexOf(this.aisleItems[i].name)?(a["aisleItems["+i+"].checked"]=!0,this.aisle_name=this.aisleItems[i].value):a["aisleItems["+i+"].checked"]=!1;this.block_id=t.detail.value,this.showAisleBottom=!1},hidePopup:function(){this.showPopupBottom=!1,this.showAisleBottom=!1},showBottomPopup:function(){this.hidePopup(),this.popType="bottom",this.showPopupBottom=!0},showAislePopup:function(){this.hidePopup(),this.popType="bottom",this.showAisleBottom=!0},goDetailPage:function(e){var a=this.$store.state.openid;return null==a?(t.navigateTo({url:"/pages/user/login/login"}),!1):1!=this.is_validate?(t.showModal({title:"提示",content:"您还没有进行实名认证，是否立即前往认证？",success:function(e){e.confirm&&t.navigateTo({url:"/pages/user/info/realname"})}}),!1):void t.navigateTo({url:e})}},components:{uniPopup:i.default}};e.default=o}).call(this,a("649d")["default"])},"8f2e":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"uni-padding-wrap"},[a("view",{staticClass:"uni-card by-card"},[a("view",{staticClass:"uni-card-content"},[a("view",{staticClass:"hg50"},[a("view",{staticClass:"uni-list-cell-navigate"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.money,expression:"money"}],staticClass:"uni-input font-max",attrs:{"placeholder-style":"font-weight: normal;",type:"digit",placeholder:"请输入要收款的金额",eventid:"0d2a2e58-0"},domProps:{value:t.money},on:{input:function(e){e.target.composing||(t.money=e.target.value)}}})])]),a("view",{staticClass:"hg50"},[a("view",{staticClass:"uni-list-cell-navigate uni-navigate-right bb0"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.bank_name,expression:"bank_name"}],staticClass:"uni-input",attrs:{disabled:"disabled",placeholder:"请选择收款账户",eventid:"0d2a2e58-1"},domProps:{value:t.bank_name},on:{click:t.showBottomPopup,input:function(e){e.target.composing||(t.bank_name=e.target.value)}}})])])])]),a("view",{staticClass:"uni-card by-card"},[a("view",{staticClass:"uni-card-content"},[a("view",{staticClass:"hg50"},[a("view",{staticClass:"uni-list-cell-navigate uni-navigate-right bb0"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.aisle_name,expression:"aisle_name"}],staticClass:"uni-input",attrs:{disabled:"disabled",placeholder:"请选择支付通道",eventid:"0d2a2e58-2"},domProps:{value:t.aisle_name},on:{click:t.showAislePopup,input:function(e){e.target.composing||(t.aisle_name=e.target.value)}}})])])])]),a("view",{staticClass:"uni-common-mt"},[a("button",{staticClass:"by-button-submit",attrs:{type:"warn",loading:t.loading,eventid:"0d2a2e58-3"},on:{click:t.goPosStep}},[t._v("下一步")])],1),t._m(3),a("uni-popup",{attrs:{show:t.showPopupBottom,type:t.popType,title:"请选择收款卡",eventid:"0d2a2e58-6",mpcomid:"0d2a2e58-1"},on:{hidePopup:t.hidePopup}},[a("view",{staticClass:"uni-center"},[a("radio-group",{staticClass:"uni-list",attrs:{eventid:"0d2a2e58-4",mpcomid:"0d2a2e58-0"},on:{change:t.radioChange}},t._l(t.radioItems,function(e,i){return a("label",{key:i,staticClass:"uni-list-cell uni-list-cell-pd"},[a("view",[a("label",{staticClass:"label-2-text",attrs:{for:e.name}},[a("text",[t._v(t._s(e.value))])])],1),a("view",[a("radio",{attrs:{id:e.name,value:e.name,checked:e.checked}})],1)])})),a("view",{staticClass:"add-card-btn uni-flex uni-row",staticStyle:{"justify-content":"center"},attrs:{eventid:"0d2a2e58-5"},on:{click:function(e){t.goDetailPage("/pages/card/bank/add")}}},[a("view",{staticClass:"flex-item add-title"},[t._v("添加新的储蓄卡")])])],1)]),a("uni-popup",{attrs:{show:t.showAisleBottom,type:t.popType,title:"请选择支付通道",eventid:"0d2a2e58-8",mpcomid:"0d2a2e58-3"},on:{hidePopup:t.hidePopup}},[a("view",{staticClass:"uni-center"},[a("radio-group",{staticClass:"uni-list",attrs:{eventid:"0d2a2e58-7",mpcomid:"0d2a2e58-2"},on:{change:t.radioChangeAisle}},t._l(t.aisleItems,function(e,i){return a("label",{key:i,staticClass:"uni-list-cell uni-list-cell-pd"},[a("view",[a("label",{staticClass:"label-2-text",attrs:{for:e.name}},[a("text",[t._v(t._s(e.value))])])],1),a("view",[a("radio",{attrs:{id:e.name,value:e.name,checked:e.checked}})],1)])})),a("view",{staticClass:"add-card-btn uni-flex uni-row",staticStyle:{"justify-content":"center"}},[a("view",{staticClass:"flex-item add-title"},[t._v("更多支付通道,敬请期待")])])],1)])],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"by-sdh"},[t._v("收款金额"),a("text")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"by-sdh"},[t._v("收款账户"),a("text")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"by-sdh"},[t._v("支付通道"),a("text")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"uni-common-mt tip_btn"},[a("text",[t._v("*")]),t._v("为保护账户资金安全，请仔细核对收款信息。")])}];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return s})},c198:function(t,e,a){"use strict";a.r(e);var i=a("8f2e"),s=a("4494");for(var o in s)"default"!==o&&function(t){a.d(e,t,function(){return s[t]})}(o);a("5bc6");var n=a("2877"),l=Object(n["a"])(s["default"],i["a"],i["b"],!1,null,null,null);e["default"]=l.exports}},[["8179","common/runtime","common/vendor"]]]);