(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/card/credit/add"],{5692:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=c(a("571a")),n=c(a("86e2"));function c(e){return e&&e.__esModule?e:{default:e}}var s={components:{mpvuePicker:i.default},data:function(){return{credit_card:{line_credit:"",credit_code:"",exp_date:"",safe_code:"",bill_time:"",repay_time:"",phone:"",bank_name:"",bank_id:"",openid:"",sessionKey:""},bannerShow:!1,tip_img:"",loading:!1,pickerSingleTwoArray:n.default,themeColor:"#007AFF",mode:"",deepLength:1,pickerValueDefault:[0],pickerValueArray:[],pickerSingleArray:[]}},onLoad:function(){this.bankInfo()},onShow:function(){},onShareAppMessage:function(){return{title:this.webshareTitle,path:"/pages/tabBar/index/index"}},computed:{},methods:{addCredit:function(){this.credit_card.openid=this.$store.state.openid,this.credit_card.sessionKey=this.$store.state.sessionKey;var t=this;if(""!=this.credit_card.credit_code)if(""!=this.credit_card.bank_name)if(""!=this.credit_card.line_credit)if(""!=this.credit_card.exp_date)if(""!=this.credit_card.safe_code)if(""!=this.credit_card.phone)try{if(this.loading)return;this.loading=!0,this.$http.post(this.websiteUrl+"/api/card/addCredit",this.credit_card,function(a){1==a.data.code?e.showModal({content:a.data.msg,showCancel:!1,success:function(){t.loading=!1,e.navigateBack()}}):e.showModal({content:a.data.msg,showCancel:!1,success:function(){t.loading=!1}})})}catch(a){e.showModal({content:"网络异常,请稍后重试...",showCancel:!1,success:function(){t.loading=!1}})}else e.showModal({content:"请输入银行预留手机号",showCancel:!1});else e.showModal({content:"请输入CVV2码",showCancel:!1});else e.showModal({content:"请输入有效日期",showCancel:!1});else e.showModal({content:"请输入信用卡额度",showCancel:!1});else e.showModal({content:"请选择银行",showCancel:!1});else e.showModal({content:"请输入信用卡号",showCancel:!1})},bankInfo:function(){var t=this;try{this.$http.post(this.websiteUrl+"/api/card/bankInfo",{},function(e){1==e.data.code&&(t.pickerSingleArray=e.data.result)})}catch(a){e.showModal({content:"网络异常,请稍后重试...",showCancel:!1})}},closeBanner:function(){this.bannerShow=!1},showBanner:function(e){this.tip_img=e,this.bannerShow=!0},onCancel:function(e){console.log(e)},showSinglePicker:function(){this.pickerValueArray=this.pickerSingleArray,this.mode="selector",this.deepLength=1,this.pickerValueDefault=[0],this.$refs.mpvuePicker.show()},showSingleTwoPicker:function(){this.pickerValueArray=this.pickerSingleTwoArray,this.mode="multiSelector",this.deepLength=2,this.pickerValueDefault=[0,0],this.$refs.mpvuePicker.show()},onConfirm:function(e){2==e.value.length?this.credit_card.exp_date=e.value[0]+""+e.value[1]:1==e.value.length&&(this.credit_card.bank_id=e.value[0],this.credit_card.bank_name=e.label)}},onBackPress:function(){return this.$refs.mpvuePicker.showPicker?(this.$refs.mpvuePicker.pickerCancel(),!0):this.bannerShow?(this.bannerShow=!1,!0):void 0},onUnload:function(){this.$refs.mpvuePicker.showPicker&&this.$refs.mpvuePicker.pickerCancel()}};t.default=s}).call(this,a("649d")["default"])},"5eac":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("view",{staticClass:"uni-padding-wrap"},[a("form",{attrs:{eventid:"0cba918b-11"},on:{submit:e.formSubmit}},[a("view",{staticClass:"uni-card by-card"},[a("view",{staticClass:"uni-card-content p15"},[a("view",{staticClass:"hg50"},[a("view",{staticClass:"uni-list-cell-navigate"},[a("view",{staticClass:"by-sdh"},[e._v("信用卡号"),a("text")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.credit_card.credit_code,expression:"credit_card.credit_code"}],staticClass:"uni-input font-max",attrs:{"placeholder-style":"font-weight: normal;",type:"number",name:"credit_code",placeholder:"请输入信用卡号",eventid:"0cba918b-0"},domProps:{value:e.credit_card.credit_code},on:{input:function(t){t.target.composing||(e.credit_card.credit_code=t.target.value)}}})])]),a("view",{staticClass:"hg50"},[a("view",{staticClass:"uni-list-cell-navigate uni-navigate-right bb0"},[a("view",{staticClass:"by-sdh"},[e._v("发卡银行"),a("text")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.credit_card.bank_name,expression:"credit_card.bank_name"}],staticClass:"uni-input",attrs:{disabled:"disabled",name:"bank_name",placeholder:"请选择银行",eventid:"0cba918b-1"},domProps:{value:e.credit_card.bank_name},on:{click:e.showSinglePicker,input:function(t){t.target.composing||(e.credit_card.bank_name=t.target.value)}}})])])])]),a("view",{staticClass:"uni-card by-card"},[a("view",{staticClass:"uni-card-content p15"},[a("view",{staticClass:"hg50"},[a("view",{staticClass:"uni-list-cell-navigate"},[a("view",{staticClass:"by-sdh"},[e._v("信用额度"),a("text")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.credit_card.line_credit,expression:"credit_card.line_credit"}],staticClass:"uni-input",attrs:{maxlength:"10",type:"digit",name:"line_credit",placeholder:"请输入信用卡额度",eventid:"0cba918b-2"},domProps:{value:e.credit_card.line_credit},on:{input:function(t){t.target.composing||(e.credit_card.line_credit=t.target.value)}}})])]),a("view",{staticClass:"hg50"},[a("view",{staticClass:"uni-list-cell-navigate"},[a("view",{staticClass:"by-sdh"},[e._v("有效日期"),a("text")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.credit_card.exp_date,expression:"credit_card.exp_date"}],staticClass:"uni-input",attrs:{maxlength:"4",disabled:"disabled",name:"credit_card.exp_date",placeholder:"格式:月年",eventid:"0cba918b-3"},domProps:{value:e.credit_card.exp_date},on:{click:e.showSingleTwoPicker,input:function(t){t.target.composing||(e.credit_card.exp_date=t.target.value)}}}),a("text",{staticClass:"tip-text",attrs:{eventid:"0cba918b-4"},on:{tap:function(t){e.showBanner("../../../static/wk_tip2.png")}}},[e._v("查看示例")])])]),a("view",{staticClass:"hg50"},[a("view",{staticClass:"uni-list-cell-navigate bb0"},[a("view",{staticClass:"by-sdh"},[e._v("CVV2码"),a("text")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.credit_card.safe_code,expression:"credit_card.safe_code"}],staticClass:"uni-input",attrs:{maxlength:"3",type:"number",name:"safe_code",placeholder:"请输入CVV2码",eventid:"0cba918b-5"},domProps:{value:e.credit_card.safe_code},on:{input:function(t){t.target.composing||(e.credit_card.safe_code=t.target.value)}}}),a("text",{staticClass:"tip-text",attrs:{eventid:"0cba918b-6"},on:{tap:function(t){e.showBanner("../../../static/wk_tip1.png")}}},[e._v("查看示例")])])])])]),a("view",{staticClass:"uni-card by-card"},[a("view",{staticClass:"uni-card-content p15"},[a("view",{staticClass:"hg50"},[a("view",{staticClass:"uni-list-cell-navigate"},[a("view",{staticClass:"by-sdh"},[e._v("账单日"),a("text")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.credit_card.bill_time,expression:"credit_card.bill_time"}],staticClass:"uni-input",attrs:{maxlength:"2",type:"number",name:"bill_time",placeholder:"请输入账单日(选填)",eventid:"0cba918b-7"},domProps:{value:e.credit_card.bill_time},on:{input:function(t){t.target.composing||(e.credit_card.bill_time=t.target.value)}}})])]),a("view",{staticClass:"hg50"},[a("view",{staticClass:"uni-list-cell-navigate bb0"},[a("view",{staticClass:"by-sdh"},[e._v("还款日"),a("text")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.credit_card.repay_time,expression:"credit_card.repay_time"}],staticClass:"uni-input",attrs:{maxlength:"2",type:"number",name:"repay_time",placeholder:"请输入还款日(选填)",eventid:"0cba918b-8"},domProps:{value:e.credit_card.repay_time},on:{input:function(t){t.target.composing||(e.credit_card.repay_time=t.target.value)}}})])])])]),a("view",{staticClass:"uni-card by-card"},[a("view",{staticClass:"uni-card-content p15"},[a("view",{staticClass:"hg50"},[a("view",{staticClass:"uni-list-cell-navigate bb0"},[a("view",{staticClass:"by-sdh"},[e._v("手机号"),a("text")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.credit_card.phone,expression:"credit_card.phone"}],staticClass:"uni-input",attrs:{type:"number",name:"phone",placeholder:"请输入银行预留手机号",eventid:"0cba918b-9"},domProps:{value:e.credit_card.phone},on:{input:function(t){t.target.composing||(e.credit_card.phone=t.target.value)}}})])])])]),a("view",{staticClass:"uni-common-mt"},[a("button",{staticClass:"by-button-submit",attrs:{type:"warn",loading:e.loading,eventid:"0cba918b-10"},on:{click:e.addCredit}},[e._v("提交保存")])],1),a("view",{staticClass:"uni-common-mt tip_btn"},[a("text",[e._v("*")]),e._v("为保护账户资金安全，请仔细核实信用卡信息。")])]),a("mpvue-picker",{ref:"mpvuePicker",attrs:{themeColor:e.themeColor,mode:e.mode,deepLength:e.deepLength,pickerValueDefault:e.pickerValueDefault,pickerValueArray:e.pickerValueArray,eventid:"0cba918b-12",mpcomid:"0cba918b-0"},on:{onConfirm:e.onConfirm,onCancel:e.onCancel}}),e.bannerShow?a("view",{staticClass:"uni-banner"},[a("view",[a("image",{staticStyle:{width:"100%"},attrs:{src:e.tip_img,mode:"widthFix"}})]),a("view",{staticClass:"tip_cancel",attrs:{eventid:"0cba918b-13"},on:{tap:e.closeBanner}},[a("image",{attrs:{src:"../../../static/wk_tip_cancel.png"}})])]):e._e(),e.bannerShow?a("view",{staticClass:"uni-mask"}):e._e()],1)},n=[];a.d(t,"a",function(){return i}),a.d(t,"b",function(){return n})},"86e2":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=[[{label:"01月",value:"01"},{label:"02月",value:"02"},{label:"03月",value:"03"},{label:"04月",value:"04"},{label:"05月",value:"05"},{label:"06月",value:"06"},{label:"07月",value:"07"},{label:"08月",value:"08"},{label:"09月",value:"09"},{label:"10月",value:10},{label:"11月",value:11},{label:"12月",value:12}],[{label:"2019年",value:19},{label:"2020年",value:20},{label:"2021年",value:21},{label:"2022年",value:22},{label:"2023年",value:23},{label:"2024年",value:24},{label:"2025年",value:25},{label:"2026年",value:26},{label:"2027年",value:27},{label:"2028年",value:28},{label:"2029年",value:29},{label:"2030年",value:30},{label:"2031年",value:31},{label:"2032年",value:32},{label:"2033年",value:33},{label:"2034年",value:34},{label:"2035年",value:35},{label:"2036年",value:36},{label:"2037年",value:37},{label:"2038年",value:38},{label:"2039年",value:39},{label:"2040年",value:40}]];t.default=i},"8a47":function(e,t,a){"use strict";var i=a("b57f"),n=a.n(i);n.a},"8e9a":function(e,t,a){"use strict";a.r(t);var i=a("5692"),n=a.n(i);for(var c in i)"default"!==c&&function(e){a.d(t,e,function(){return i[e]})}(c);t["default"]=n.a},b57f:function(e,t,a){},bf9b:function(e,t,a){"use strict";a("a8bc");var i=c(a("b0ce")),n=c(a("ffd9"));function c(e){return e&&e.__esModule?e:{default:e}}Page((0,i.default)(n.default))},ffd9:function(e,t,a){"use strict";a.r(t);var i=a("5eac"),n=a("8e9a");for(var c in n)"default"!==c&&function(e){a.d(t,e,function(){return n[e]})}(c);a("8a47");var s=a("2877"),l=Object(s["a"])(n["default"],i["a"],i["b"],!1,null,null,null);t["default"]=l.exports}},[["bf9b","common/runtime","common/vendor"]]]);