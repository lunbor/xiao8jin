(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/card/bank/add"],{"3bce":function(e,a,t){},"4e9d":function(e,a,t){"use strict";t.r(a);var n=t("c37e"),i=t("51d1");for(var s in i)"default"!==s&&function(e){t.d(a,e,function(){return i[e]})}(s);t("dcde");var c=t("2877"),o=Object(c["a"])(i["default"],n["a"],n["b"],!1,null,null,null);a["default"]=o.exports},"51d1":function(e,a,t){"use strict";t.r(a);var n=t("6888"),i=t.n(n);for(var s in n)"default"!==s&&function(e){t.d(a,e,function(){return n[e]})}(s);a["default"]=i.a},5299:function(e,a,t){"use strict";t("a8bc");var n=s(t("b0ce")),i=s(t("4e9d"));function s(e){return e&&e.__esModule?e:{default:e}}Page((0,n.default)(i.default))},6888:function(e,a,t){"use strict";(function(e){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=s(t("571a")),i=s(t("2de0"));function s(e){return e&&e.__esModule?e:{default:e}}var c={components:{mpvuePicker:n.default,mpvueCityPicker:i.default},data:function(){return{bank_card:{bank_code:"",bank_id:"",bank_name:"",phone:"",address:"",bank_child:"",provin:"",city:"",area:"",openid:"",sessionKey:""},loading:!1,themeColor:"#007AFF",cityPickerValueDefault:[0,0,0],pickerSingleArray:[],pickerValueDefault:[0],pickerValueArray:[],mode:"",deepLength:1}},onLoad:function(){this.bankInfo()},onShow:function(){},onShareAppMessage:function(){return{title:this.webshareTitle,path:"/pages/tabBar/index/index"}},computed:{},methods:{addBank:function(){this.bank_card.openid=this.$store.state.openid,this.bank_card.sessionKey=this.$store.state.sessionKey;var a=this;if(""!=this.bank_card.bank_code)if(""!=this.bank_card.bank_name)if(""!=this.bank_card.address)if(""!=this.bank_card.bank_child)if(""!=this.bank_card.phone)try{if(this.loading)return;this.loading=!0,this.$http.post(this.websiteUrl+"/api/card/addBank",this.bank_card,function(t){1==t.data.code?e.showModal({content:t.data.msg,showCancel:!1,success:function(){a.loading=!1,e.navigateBack()}}):e.showModal({content:t.data.msg,showCancel:!1,success:function(){a.loading=!1}})})}catch(t){e.showModal({content:"网络异常,请稍后重试...",showCancel:!1,success:function(){a.loading=!1}})}else e.showModal({content:"请输入银行预留手机号",showCancel:!1});else e.showModal({content:"请输入支行名称",showCancel:!1});else e.showModal({content:"请选择省市",showCancel:!1});else e.showModal({content:"请选择银行",showCancel:!1});else e.showModal({content:"请输入银行卡号",showCancel:!1})},bankInfo:function(){var a=this;try{this.$http.post(this.websiteUrl+"/api/card/bankInfo",{},function(e){1==e.data.code&&(a.pickerSingleArray=e.data.result)})}catch(t){e.showModal({content:"网络异常,请稍后重试...",showCancel:!1})}},onCancel:function(e){console.log(e)},showSinglePicker:function(){this.pickerValueArray=this.pickerSingleArray,this.mode="selector",this.deepLength=1,this.pickerValueDefault=[0],this.$refs.mpvuePicker.show()},showMulLinkageThreePicker:function(){this.$refs.mpvueCityPicker.show()},onConfirmbank:function(e){1==e.value.length&&(this.bank_card.bank_id=e.value[0],this.bank_card.bank_name=e.label)},onConfirm:function(e){this.bank_card.provin=e.provinceCode,this.bank_card.city=e.cityCode,this.bank_card.area=e.areaCode,this.bank_card.address=e.label},bindPickerChange:function(e){console.log("picker发送选择改变，携带值为",e.target.value),this.index=e.target.value}},onBackPress:function(){return this.$refs.mpvuePicker.showPicker?(this.$refs.mpvuePicker.pickerCancel(),!0):this.$refs.mpvueCityPicker.showPicker?(this.$refs.mpvueCityPicker.pickerCancel(),!0):void 0},onUnload:function(){this.$refs.mpvuePicker.showPicker&&this.$refs.mpvuePicker.pickerCancel(),this.$refs.mpvueCityPicker.showPicker&&this.$refs.mpvueCityPicker.pickerCancel()}};a.default=c}).call(this,t("649d")["default"])},c37e:function(e,a,t){"use strict";var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("view",{staticClass:"uni-padding-wrap"},[t("form",{attrs:{eventid:"7f96d34e-6"},on:{submit:e.formSubmit}},[t("view",{staticClass:"uni-card by-card"},[t("view",{staticClass:"uni-card-content p15"},[t("view",{staticClass:"hg50"},[t("view",{staticClass:"uni-list-cell-navigate"},[t("view",{staticClass:"by-sdh"},[e._v("银行卡号"),t("text")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.bank_card.bank_code,expression:"bank_card.bank_code"}],staticClass:"uni-input font-max",attrs:{"placeholder-style":"font-weight: normal;",type:"number",name:"bank_code",placeholder:"请输入银行卡号",eventid:"7f96d34e-0"},domProps:{value:e.bank_card.bank_code},on:{input:function(a){a.target.composing||(e.bank_card.bank_code=a.target.value)}}})])]),t("view",{staticClass:"hg50"},[t("view",{staticClass:"uni-list-cell-navigate uni-navigate-right bb0"},[t("view",{staticClass:"by-sdh"},[e._v("发卡银行"),t("text")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.bank_card.bank_name,expression:"bank_card.bank_name"}],staticClass:"uni-input",attrs:{disabled:"disabled",name:"bank_name",placeholder:"请选择银行",eventid:"7f96d34e-1"},domProps:{value:e.bank_card.bank_name},on:{click:e.showSinglePicker,input:function(a){a.target.composing||(e.bank_card.bank_name=a.target.value)}}})])])])]),t("view",{staticClass:"uni-card by-card"},[t("view",{staticClass:"uni-card-content p15"},[t("view",{staticClass:"hg50"},[t("view",{staticClass:"uni-list-cell-navigate uni-navigate-right"},[t("view",{staticClass:"by-sdh"},[e._v("开户省市"),t("text")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.bank_card.address,expression:"bank_card.address"}],staticClass:"uni-input",attrs:{disabled:"disabled",placeholder:"请选择省市",eventid:"7f96d34e-2"},domProps:{value:e.bank_card.address},on:{click:e.showMulLinkageThreePicker,input:function(a){a.target.composing||(e.bank_card.address=a.target.value)}}})])]),t("view",{staticClass:"hg50"},[t("view",{staticClass:"uni-list-cell-navigate bb0"},[t("view",{staticClass:"by-sdh"},[e._v("开户支行"),t("text")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.bank_card.bank_child,expression:"bank_card.bank_child"}],staticClass:"uni-input",attrs:{name:"bank_child",placeholder:"请输入开户支行名称",eventid:"7f96d34e-3"},domProps:{value:e.bank_card.bank_child},on:{input:function(a){a.target.composing||(e.bank_card.bank_child=a.target.value)}}})])])])]),t("view",{staticClass:"uni-card by-card"},[t("view",{staticClass:"uni-card-content p15"},[t("view",{staticClass:"hg50"},[t("view",{staticClass:"uni-list-cell-navigate bb0"},[t("view",{staticClass:"by-sdh"},[e._v("手机号"),t("text")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.bank_card.phone,expression:"bank_card.phone"}],staticClass:"uni-input",attrs:{type:"number",name:"phone",placeholder:"请输入银行预留手机号",eventid:"7f96d34e-4"},domProps:{value:e.bank_card.phone},on:{input:function(a){a.target.composing||(e.bank_card.phone=a.target.value)}}})])])])]),t("view",{staticClass:"uni-common-mt"},[t("button",{staticClass:"by-button-submit",attrs:{type:"warn",loading:e.loading,eventid:"7f96d34e-5"},on:{click:e.addBank}},[e._v("提交保存")])],1),t("view",{staticClass:"uni-common-mt tip_btn"},[t("text",[e._v("*")]),e._v("为保护账户资金安全，请仔细核实银行卡信息，相关信息可咨询发卡行客服电话。")])]),t("mpvue-picker",{ref:"mpvuePicker",attrs:{themeColor:e.themeColor,mode:e.mode,deepLength:e.deepLength,pickerValueDefault:e.pickerValueDefault,pickerValueArray:e.pickerValueArray,eventid:"7f96d34e-7",mpcomid:"7f96d34e-0"},on:{onConfirm:e.onConfirmbank,onCancel:e.onCancel}}),t("mpvue-city-picker",{ref:"mpvueCityPicker",attrs:{themeColor:e.themeColor,pickerValueDefault:e.cityPickerValueDefault,eventid:"7f96d34e-8",mpcomid:"7f96d34e-1"},on:{onCancel:e.onCancel,onConfirm:e.onConfirm}})],1)},i=[];t.d(a,"a",function(){return n}),t.d(a,"b",function(){return i})},dcde:function(e,a,t){"use strict";var n=t("3bce"),i=t.n(n);i.a}},[["5299","common/runtime","common/vendor"]]]);